From a0f5b1b4394a0a1cd2fd0ed8491d138a1cff1e3b Mon Sep 17 00:00:00 2001
From: Xavier Hanin <xavier@apache.org>
Date: Tue, 23 Jun 2009 09:28:56 +0000
Subject: [PATCH] FIX: NPE in some cases, related to IVY-1083 implementation

git-svn-id: https://svn.apache.org/repos/asf/ant/ivy/core/trunk@787597 13f79535-47bb-0310-9956-ffa450edef68
---
 src/java/org/apache/ivy/core/resolve/IvyNodeUsage.java | 3 +++
 1 file changed, 3 insertions(+)

diff --git a/src/java/org/apache/ivy/core/resolve/IvyNodeUsage.java b/src/java/org/apache/ivy/core/resolve/IvyNodeUsage.java
index c00106b7b..6004c2bbb 100644
--- a/src/java/org/apache/ivy/core/resolve/IvyNodeUsage.java
+++ b/src/java/org/apache/ivy/core/resolve/IvyNodeUsage.java
@@ -311,6 +311,9 @@ protected IvyNode getNode() {
      */
     public boolean hasTransitiveDepender(String rootModuleConf) {
         Set/*<Depender>*/ dependersSet = (Set) dependers.get(rootModuleConf);
+        if (dependersSet == null) {
+            return false;
+        }
         for (Iterator iterator = dependersSet.iterator(); iterator.hasNext();) {
             Depender depender = (Depender) iterator.next();
             if (depender.dd.isTransitive()) {
