From d84695d151239d1425883c43364bc7c8170c29c0 Mon Sep 17 00:00:00 2001
From: Luc Maisonobe <luc@apache.org>
Date: Tue, 10 May 2011 18:09:07 +0000
Subject: [PATCH] Fixed an unused constructor parameter in ArrayFieldVector.
 JIRA: MATH-572

git-svn-id: https://svn.apache.org/repos/asf/commons/proper/math/trunk@1101575 13f79535-47bb-0310-9956-ffa450edef68
---
 .../java/org/apache/commons/math/linear/ArrayFieldVector.java  | 2 +-
 src/site/xdoc/changes.xml                                      | 3 +++
 2 files changed, 4 insertions(+), 1 deletion(-)

diff --git a/src/main/java/org/apache/commons/math/linear/ArrayFieldVector.java b/src/main/java/org/apache/commons/math/linear/ArrayFieldVector.java
index e081931460..a5276dd4e0 100644
--- a/src/main/java/org/apache/commons/math/linear/ArrayFieldVector.java
+++ b/src/main/java/org/apache/commons/math/linear/ArrayFieldVector.java
@@ -349,7 +349,7 @@ public ArrayFieldVector(Field<T> field, T[] v1, T[] v2) {
         data = buildArray(v1.length + v2.length);
         System.arraycopy(v1, 0, data, 0, v1.length);
         System.arraycopy(v2, 0, data, v1.length, v2.length);
-        this.field = data[0].getField();
+        this.field = field;
     }
 
     /**
diff --git a/src/site/xdoc/changes.xml b/src/site/xdoc/changes.xml
index ee338b9a41..a0a4ee93ac 100644
--- a/src/site/xdoc/changes.xml
+++ b/src/site/xdoc/changes.xml
@@ -52,6 +52,9 @@ The <action> type attribute can be add,update,fix,remove.
     If the output is not quite correct, check for invisible trailing spaces!
      -->
     <release version="3.0" date="TBD" description="TBD">
+      <action dev="luc" type="fix" issue="MATH-572">
+        Fixed an unused constructor parameter in ArrayFieldVector.
+      </action>
       <action dev="erans" type="add" issue="MATH-566">
         Created an "ExceptionContext" class: It provides the customization feature of
         "MathRuntimeException" without imposing a singly rooted hierarchy of the Comons
