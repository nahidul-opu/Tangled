From 7d9d905705fb1e0a4d6ce10166c9019d0e1d2e14 Mon Sep 17 00:00:00 2001
From: Sebastian Bazley <sebb@apache.org>
Date: Mon, 18 Apr 2011 20:06:17 +0000
Subject: [PATCH] VALIDATOR-293 add tests for trailing - and _

git-svn-id: https://svn.apache.org/repos/asf/commons/proper/validator/trunk@1094721 13f79535-47bb-0310-9956-ffa450edef68
---
 .../validator/routines/EmailValidatorTest.java        | 11 +++++++++--
 1 file changed, 9 insertions(+), 2 deletions(-)

diff --git a/src/test/java/org/apache/commons/validator/routines/EmailValidatorTest.java b/src/test/java/org/apache/commons/validator/routines/EmailValidatorTest.java
index 04cfbaddd..ba9fc9050 100644
--- a/src/test/java/org/apache/commons/validator/routines/EmailValidatorTest.java
+++ b/src/test/java/org/apache/commons/validator/routines/EmailValidatorTest.java
@@ -164,11 +164,11 @@ public void testEmailWithCommas()  {
     * Tests the email validation with spaces.
     */
     public void testEmailWithSpaces()  {
-        assertFalse(validator.isValid("joeblow @apache.org"));
+        assertFalse(validator.isValid("joeblow @apache.org")); // TODO - this should be valid?
 
         assertFalse(validator.isValid("joeblow@ apache.org"));
 
-        assertTrue(validator.isValid(" joeblow@apache.org"));
+        assertTrue(validator.isValid(" joeblow@apache.org")); // TODO - this should be valid?
 
         assertTrue(validator.isValid("joeblow@apache.org "));
 
@@ -402,4 +402,11 @@ public void _testEmailFromPerl()  {
         }
     }
 
+    public void testValidator293(){
+        assertTrue(validator.isValid("abc-@abc.com"));
+        assertTrue(validator.isValid("abc_@abc.com"));
+        assertTrue(validator.isValid("abc-def@abc.com"));
+        assertTrue(validator.isValid("abc_def@abc.com"));
+        assertFalse(validator.isValid("abc@abc_def.com"));
+    }
 }
