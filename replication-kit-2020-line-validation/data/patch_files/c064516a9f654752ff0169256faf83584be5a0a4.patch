From c064516a9f654752ff0169256faf83584be5a0a4 Mon Sep 17 00:00:00 2001
From: Colm O Heigeartaigh <coheigea@apache.org>
Date: Mon, 30 Sep 2013 09:38:14 +0000
Subject: [PATCH] [SANTUARIO-368] - NPE in XMLSignature

git-svn-id: https://svn.apache.org/repos/asf/santuario/xml-security-java/trunk@1527497 13f79535-47bb-0310-9956-ffa450edef68
---
 .../java/org/apache/xml/security/signature/XMLSignature.java  | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

diff --git a/src/main/java/org/apache/xml/security/signature/XMLSignature.java b/src/main/java/org/apache/xml/security/signature/XMLSignature.java
index 3ea691622b..9b676df925 100644
--- a/src/main/java/org/apache/xml/security/signature/XMLSignature.java
+++ b/src/main/java/org/apache/xml/security/signature/XMLSignature.java
@@ -373,8 +373,8 @@ public XMLSignature(Element element, String baseURI, boolean secureValidation)
 
         // If it exists use it, but it's not mandatory
         if (keyInfoElem != null 
-            && keyInfoElem.getNamespaceURI().equals(Constants.SignatureSpecNS) 
-            && keyInfoElem.getLocalName().equals(Constants._TAG_KEYINFO)) {
+            && Constants.SignatureSpecNS.equals(keyInfoElem.getNamespaceURI()) 
+            && Constants._TAG_KEYINFO.equals(keyInfoElem.getLocalName())) {
             this.keyInfo = new KeyInfo(keyInfoElem, baseURI);
             this.keyInfo.setSecureValidation(secureValidation);
         }
