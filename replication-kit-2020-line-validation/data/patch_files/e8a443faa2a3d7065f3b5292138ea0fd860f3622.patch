From e8a443faa2a3d7065f3b5292138ea0fd860f3622 Mon Sep 17 00:00:00 2001
From: Aaron Smuts <asmuts@apache.org>
Date: Fri, 4 Dec 2009 15:30:24 +0000
Subject: [PATCH] Fixing JCS-69 - https://issues.apache.org/jira/browse/JCS-69

git-svn-id: https://svn.apache.org/repos/asf/jakarta/jcs/trunk@887227 13f79535-47bb-0310-9956-ffa450edef68
---
 src/java/org/apache/jcs/utils/access/JCSWorker.java | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

diff --git a/src/java/org/apache/jcs/utils/access/JCSWorker.java b/src/java/org/apache/jcs/utils/access/JCSWorker.java
index 98b01e826..e3d0807ea 100644
--- a/src/java/org/apache/jcs/utils/access/JCSWorker.java
+++ b/src/java/org/apache/jcs/utils/access/JCSWorker.java
@@ -287,11 +287,11 @@ private Object run( Serializable aKey, String aGroup, JCSWorkerHelper aHelper )
                 {
                     map.remove( getRegion() + aKey );
                 }
-                synchronized ( this )
+                synchronized ( aHelper )
                 {
                     aHelper.setFinished( true );
                     // Wake everyone waiting on us
-                    notifyAll();
+                    aHelper.notifyAll();
                 }
             }
         }
