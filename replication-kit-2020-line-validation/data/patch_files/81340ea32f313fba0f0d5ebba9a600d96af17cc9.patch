From 81340ea32f313fba0f0d5ebba9a600d96af17cc9 Mon Sep 17 00:00:00 2001
From: Henri Yandell <bayard@apache.org>
Date: Mon, 3 Jul 2006 19:21:14 +0000
Subject: [PATCH] Adding unit test for LANG-59. Sometimes passes, sometimes
 fails

git-svn-id: https://svn.apache.org/repos/asf/jakarta/commons/proper/lang/trunk@418834 13f79535-47bb-0310-9956-ffa450edef68
---
 src/test/org/apache/commons/lang/time/DateUtilsTest.java | 8 ++++++++
 1 file changed, 8 insertions(+)

diff --git a/src/test/org/apache/commons/lang/time/DateUtilsTest.java b/src/test/org/apache/commons/lang/time/DateUtilsTest.java
index 837712091c8..7e0b4b1e6c4 100644
--- a/src/test/org/apache/commons/lang/time/DateUtilsTest.java
+++ b/src/test/org/apache/commons/lang/time/DateUtilsTest.java
@@ -978,6 +978,14 @@ public void testMonthIterator() throws Exception {
                 dateParser.parse("December 2, 2001"));
     }
 
+    // Tests LANG-59
+    public void testLang59() throws Exception {
+        // truncate 2004-10-31 01:00:00 MDT
+        Date oct31_01MDT = new Date(1099206000000L);
+        Date result = DateUtils.truncate(oct31_01MDT, Calendar.HOUR_OF_DAY);
+        assertEquals(oct31_01MDT, result); 
+    }
+
     /**
      * This checks that this is a 7 element iterator of Calendar objects
      * that are dates (no time), and exactly 1 day spaced after each other.
