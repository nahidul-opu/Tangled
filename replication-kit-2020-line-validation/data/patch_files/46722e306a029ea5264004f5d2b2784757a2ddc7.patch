From 46722e306a029ea5264004f5d2b2784757a2ddc7 Mon Sep 17 00:00:00 2001
From: Maarten Coene <maartenc@apache.org>
Date: Mon, 2 Nov 2009 23:49:09 +0000
Subject: [PATCH] FIX: ResolveEngine.getDependencies does not work using extra
 attributes (IVY-1115)

git-svn-id: https://svn.apache.org/repos/asf/ant/ivy/core/trunk@832203 13f79535-47bb-0310-9956-ffa450edef68
---
 CHANGES.txt                                   |  1 +
 .../apache/ivy/core/resolve/ResolveData.java  | 17 ++++++
 .../apache/ivy/core/resolve/ResolveTest.java  | 54 +++++++++++++++++++
 .../ivy-extra-attrib-forced-dependencies.xml  | 22 ++++++++
 .../CAE-VSK/VSK-FC/0.53.0.1/ivy-0.53.0.1.xml  | 44 +++++++++++++++
 .../CAE-VSK/VSK-FC/0.54.0.0/ivy-0.54.0.0.xml  | 44 +++++++++++++++
 .../CAE-VSK/VSK-FC/0.54.1.0/ivy-0.54.1.0.xml  | 44 +++++++++++++++
 .../RTS/6.2.1.20/RTS-6.2.1.20.zip             |  0
 .../RTS/6.2.1.20/ivy-6.2.1.20.xml             | 40 ++++++++++++++
 .../SGL/6.2.34.17/SGL-6.2.34.17.zip           |  0
 .../SGL/6.2.34.17/ivy-6.2.34.17.xml           | 38 +++++++++++++
 .../SGL/6.2.34.7/SGL-6.2.34.7.zip             |  0
 .../SGL/6.2.34.7/ivy-6.2.34.7.xml             | 38 +++++++++++++
 .../CAE-VSK/VSK-FC/0.53.0.1/ivy-0.53.0.1.xml  | 44 +++++++++++++++
 .../CAE-VSK/VSK-FC/0.54.0.0/ivy-0.54.0.0.xml  | 44 +++++++++++++++
 .../CAE-VSK/VSK-FC/0.54.1.0/ivy-0.54.1.0.xml  | 44 +++++++++++++++
 .../RTS/6.2.1.20/RTS-6.2.1.20.zip             |  0
 .../RTS/6.2.1.20/ivy-6.2.1.20.xml             | 40 ++++++++++++++
 .../SGL/6.2.34.17/SGL-6.2.34.17.zip           |  0
 .../SGL/6.2.34.17/ivy-6.2.34.17.xml           | 38 +++++++++++++
 .../SGL/6.2.34.7/SGL-6.2.34.7.zip             |  0
 .../SGL/6.2.34.7/ivy-6.2.34.7.xml             | 38 +++++++++++++
 .../ivysettings-filerepo-attribs.xml          | 34 ++++++++++++
 .../ivysettings-filerepo-noattribs.xml        | 34 ++++++++++++
 24 files changed, 658 insertions(+)
 create mode 100644 test/java/org/apache/ivy/core/resolve/ivy-extra-attrib-forced-dependencies.xml
 create mode 100644 test/repositories/extra-attributes-forceddependencies/filerepo-attribs/CAE-VSK/VSK-FC/0.53.0.1/ivy-0.53.0.1.xml
 create mode 100644 test/repositories/extra-attributes-forceddependencies/filerepo-attribs/CAE-VSK/VSK-FC/0.54.0.0/ivy-0.54.0.0.xml
 create mode 100644 test/repositories/extra-attributes-forceddependencies/filerepo-attribs/CAE-VSK/VSK-FC/0.54.1.0/ivy-0.54.1.0.xml
 create mode 100644 test/repositories/extra-attributes-forceddependencies/filerepo-attribs/CAE-Visualization-Components/RTS/6.2.1.20/RTS-6.2.1.20.zip
 create mode 100644 test/repositories/extra-attributes-forceddependencies/filerepo-attribs/CAE-Visualization-Components/RTS/6.2.1.20/ivy-6.2.1.20.xml
 create mode 100644 test/repositories/extra-attributes-forceddependencies/filerepo-attribs/CAE-Visualization-Components/SGL/6.2.34.17/SGL-6.2.34.17.zip
 create mode 100644 test/repositories/extra-attributes-forceddependencies/filerepo-attribs/CAE-Visualization-Components/SGL/6.2.34.17/ivy-6.2.34.17.xml
 create mode 100644 test/repositories/extra-attributes-forceddependencies/filerepo-attribs/CAE-Visualization-Components/SGL/6.2.34.7/SGL-6.2.34.7.zip
 create mode 100644 test/repositories/extra-attributes-forceddependencies/filerepo-attribs/CAE-Visualization-Components/SGL/6.2.34.7/ivy-6.2.34.7.xml
 create mode 100644 test/repositories/extra-attributes-forceddependencies/filerepo-noattribs/CAE-VSK/VSK-FC/0.53.0.1/ivy-0.53.0.1.xml
 create mode 100644 test/repositories/extra-attributes-forceddependencies/filerepo-noattribs/CAE-VSK/VSK-FC/0.54.0.0/ivy-0.54.0.0.xml
 create mode 100644 test/repositories/extra-attributes-forceddependencies/filerepo-noattribs/CAE-VSK/VSK-FC/0.54.1.0/ivy-0.54.1.0.xml
 create mode 100644 test/repositories/extra-attributes-forceddependencies/filerepo-noattribs/CAE-Visualization-Components/RTS/6.2.1.20/RTS-6.2.1.20.zip
 create mode 100644 test/repositories/extra-attributes-forceddependencies/filerepo-noattribs/CAE-Visualization-Components/RTS/6.2.1.20/ivy-6.2.1.20.xml
 create mode 100644 test/repositories/extra-attributes-forceddependencies/filerepo-noattribs/CAE-Visualization-Components/SGL/6.2.34.17/SGL-6.2.34.17.zip
 create mode 100644 test/repositories/extra-attributes-forceddependencies/filerepo-noattribs/CAE-Visualization-Components/SGL/6.2.34.17/ivy-6.2.34.17.xml
 create mode 100644 test/repositories/extra-attributes-forceddependencies/filerepo-noattribs/CAE-Visualization-Components/SGL/6.2.34.7/SGL-6.2.34.7.zip
 create mode 100644 test/repositories/extra-attributes-forceddependencies/filerepo-noattribs/CAE-Visualization-Components/SGL/6.2.34.7/ivy-6.2.34.7.xml
 create mode 100644 test/repositories/extra-attributes-forceddependencies/ivysettings-filerepo-attribs.xml
 create mode 100644 test/repositories/extra-attributes-forceddependencies/ivysettings-filerepo-noattribs.xml

diff --git a/CHANGES.txt b/CHANGES.txt
index a402d79a1..3c4581bc3 100644
--- a/CHANGES.txt
+++ b/CHANGES.txt
@@ -98,6 +98,7 @@ for detailed view of each issue, please consult http://issues.apache.org/jira/br
 - IMPROVEMENT: Trace a message when a property file referenced from the settings doesn't exixts (IVY-1074)
 - IMPROVEMENT: use defaultconf in combination with defaultconfmapping (IVY-1135) (thanks to Jon Schneider)
 
+- FIX: ResolveEngine.getDependencies does not work using extra attributes (IVY-1115)
 - FIX: <override> ignored in dynamic resolve mode (IVY-1131)
 - FIX: IvyNodeEviction.cleanEvicted has bad comparison logic (IVY-1118)
 - FIX: ChainResolver doesn't pass the specified 'checkmodified' attribute to the cache (IVY-1133)
diff --git a/src/java/org/apache/ivy/core/resolve/ResolveData.java b/src/java/org/apache/ivy/core/resolve/ResolveData.java
index 1effed2d7..e39203b71 100644
--- a/src/java/org/apache/ivy/core/resolve/ResolveData.java
+++ b/src/java/org/apache/ivy/core/resolve/ResolveData.java
@@ -209,6 +209,23 @@ void blacklist(IvyNode node) {
 
     public boolean isBlacklisted(String rootModuleConf, ModuleRevisionId mrid) {
         IvyNode node = getNode(mrid);
+        
+        if (node == null) {
+            // search again, now ignore the extra attributes
+            // TODO: maybe we should search the node that has at least the 
+            // same attributes as mrid
+            for (Iterator it = visitData.entrySet().iterator(); it.hasNext(); ) {
+                Map.Entry entry = (Entry) it.next();
+                ModuleRevisionId current = (ModuleRevisionId) entry.getKey();
+                if (current.getModuleId().equals(mrid.getModuleId())
+                        && current.getRevision().equals(mrid.getRevision())) {
+                    VisitData data = (VisitData) entry.getValue();
+                    node = data.getNode();
+                    break;
+                }
+            }
+        }
+        
         return node != null && node.isBlacklisted(rootModuleConf);
     }
 
diff --git a/test/java/org/apache/ivy/core/resolve/ResolveTest.java b/test/java/org/apache/ivy/core/resolve/ResolveTest.java
index 583198bcb..680847b2b 100644
--- a/test/java/org/apache/ivy/core/resolve/ResolveTest.java
+++ b/test/java/org/apache/ivy/core/resolve/ResolveTest.java
@@ -61,9 +61,12 @@
 import org.apache.ivy.plugins.resolver.DualResolver;
 import org.apache.ivy.plugins.resolver.FileSystemResolver;
 import org.apache.ivy.util.CacheCleaner;
+import org.apache.ivy.util.DefaultMessageLogger;
 import org.apache.ivy.util.FileUtil;
+import org.apache.ivy.util.Message;
 import org.apache.ivy.util.MockMessageLogger;
 import org.apache.ivy.util.StringUtils;
+import org.apache.tools.ant.DefaultLogger;
 import org.xml.sax.SAXException;
 import org.xml.sax.helpers.DefaultHandler;
 
@@ -4900,4 +4903,55 @@ private ResolveOptions getResolveOptions(String[] confs) {
     private ResolveOptions getResolveOptions(IvySettings settings, String[] confs) {
         return new ResolveOptions().setConfs(confs);
     }
+
+    public void testExtraAttributesForcedDependencies() throws Exception {
+        Ivy ivy = new Ivy();
+        ivy.configure(new File("test/repositories/extra-attributes-forceddependencies/ivysettings-filerepo-attribs.xml"));
+        ivy.getSettings().setDefaultCache(cache);
+        
+        Message.setDefaultLogger(new DefaultMessageLogger(Message.MSG_DEBUG));
+
+        ResolveReport report = ivy.resolve(ResolveTest.class.getResource("ivy-extra-attrib-forced-dependencies.xml"),
+            getResolveOptions(ivy.getSettings(), new String[] {"*"}).setValidate(false));
+        assertFalse(report.hasError());
+        
+        ivy.deliver("1.0.0", "build/test/extra-attributes-forceddependencies/ivy-1.0.0.xml", new DeliverOptions().setResolveId(report.getResolveId()).setValidate(false).setPubdate(new Date()));
+        
+        File deliveredIvyFile = new File("build/test/extra-attributes-forceddependencies/ivy-1.0.0.xml");
+        assertTrue(deliveredIvyFile.exists());
+        ModuleDescriptor md = XmlModuleDescriptorParser.getInstance().parseDescriptor(
+            ivy.getSettings(), deliveredIvyFile.toURL(), false);
+        DependencyDescriptor[] dds = md.getDependencies();
+        assertEquals(2, dds.length);
+        assertEquals(ModuleRevisionId.newInstance("CAE-Visualization-Components",
+            "SGL", "MAIN", "6.2.34.7"), dds[1]
+                .getDependencyRevisionId());
+        
+
+    }
+    public void testNoAttributesForcedDependencies() throws Exception {
+        Ivy ivy = new Ivy();
+        ivy.configure(new File("test/repositories/extra-attributes-forceddependencies/ivysettings-filerepo-noattribs.xml"));
+        ivy.getSettings().setDefaultCache(cache);
+        
+        Message.setDefaultLogger(new DefaultMessageLogger(Message.MSG_DEBUG));
+
+        ResolveReport report = ivy.resolve(ResolveTest.class.getResource("ivy-extra-attrib-forced-dependencies.xml"),
+            getResolveOptions(ivy.getSettings(), new String[] {"*"}).setValidate(false));
+        assertFalse(report.hasError());
+        
+        ivy.deliver("1.0.0", "build/test/extra-attributes-forceddependencies/ivy-1.0.0.xml", new DeliverOptions().setResolveId(report.getResolveId()).setValidate(false).setPubdate(new Date()));
+        
+        File deliveredIvyFile = new File("build/test/extra-attributes-forceddependencies/ivy-1.0.0.xml");
+        assertTrue(deliveredIvyFile.exists());
+        ModuleDescriptor md = XmlModuleDescriptorParser.getInstance().parseDescriptor(
+            ivy.getSettings(), deliveredIvyFile.toURL(), false);
+        DependencyDescriptor[] dds = md.getDependencies();
+        assertEquals(2, dds.length);
+        assertEquals(ModuleRevisionId.newInstance("CAE-Visualization-Components",
+            "SGL", "MAIN", "6.2.34.7"), dds[1]
+                .getDependencyRevisionId());
+        
+
+    }
 }
diff --git a/test/java/org/apache/ivy/core/resolve/ivy-extra-attrib-forced-dependencies.xml b/test/java/org/apache/ivy/core/resolve/ivy-extra-attrib-forced-dependencies.xml
new file mode 100644
index 000000000..ec20902af
--- /dev/null
+++ b/test/java/org/apache/ivy/core/resolve/ivy-extra-attrib-forced-dependencies.xml
@@ -0,0 +1,22 @@
+<?xml version="1.0" encoding="UTF-8"?>
+<ivy-module version="2.0">
+ <info organisation="CAE-Visualization-Products" module="IG-6_2" revision="6.2.1.4" status="Development" publication="20090429165200">
+  <license name="CAE Proprietary"/>
+  <ivyauthor name="CAE Image Generator - CAE Visualization Products" url="http://www.cae.com"/>
+  <repository name="packagerep-ivy" url="http://coretech.caecorp.cae.com/packagerep" pattern="[organisation]/[module]/[revision]/ivy-[revision].xml" ivys="true" artifacts="false"/>
+  <repository name="packagerep-artifacts" url="http://coretech.caecorp.cae.com/packagerep" pattern="[organisation]/[module]/[revision]/[artifact]-[revision].[type]" ivys="false" artifacts="true"/>
+  <description homepage="http://www.cae.com"/>
+ </info>
+ <publications/>
+ <configurations>
+  <conf name="BuildTimeDependencies"/>
+  <conf name="RunTimeDependencies"/>
+  <conf name="TestingDependencies"/>
+ </configurations>
+ <dependencies>
+  <dependency org="CAE-Visualization-Components" name="RTS" rev="6.2.1.20" conf="BuildTimeDependencies->*" force="true" branch="MAIN">
+  </dependency>
+  <dependency org="CAE-Visualization-Components" name="SGL" rev="[6.2.0,6.2.999]" conf="BuildTimeDependencies->*" force="true" branch="MAIN">
+  </dependency>
+ </dependencies>
+</ivy-module>
diff --git a/test/repositories/extra-attributes-forceddependencies/filerepo-attribs/CAE-VSK/VSK-FC/0.53.0.1/ivy-0.53.0.1.xml b/test/repositories/extra-attributes-forceddependencies/filerepo-attribs/CAE-VSK/VSK-FC/0.53.0.1/ivy-0.53.0.1.xml
new file mode 100644
index 000000000..67aedfb46
--- /dev/null
+++ b/test/repositories/extra-attributes-forceddependencies/filerepo-attribs/CAE-VSK/VSK-FC/0.53.0.1/ivy-0.53.0.1.xml
@@ -0,0 +1,44 @@
+<?xml version="1.0" encoding="ISO-8859-1"?>
+<!--
+   Licensed to the Apache Software Foundation (ASF) under one
+   or more contributor license agreements.  See the NOTICE file
+   distributed with this work for additional information
+   regarding copyright ownership.  The ASF licenses this file
+   to you under the Apache License, Version 2.0 (the
+   "License"); you may not use this file except in compliance
+   with the License.  You may obtain a copy of the License at
+
+     http://www.apache.org/licenses/LICENSE-2.0
+
+   Unless required by applicable law or agreed to in writing,
+   software distributed under the License is distributed on an
+   "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
+   KIND, either express or implied.  See the License for the
+   specific language governing permissions and limitations
+   under the License.    
+-->
+<ivy-module version="2.0">
+ <info organisation="CAE-VSK" module="VSK-FC" revision="0.53.0.1" status="Development" publication="20081008191838" buddies="" approver="Sebastien Bolduc">
+  <license name="CAE Proprietary"/>
+  <ivyauthor name="FC - Runway - FC" url="http://coretech.caecorp.cae.com/jira/browse/VSKFLIGHTCONTROLS"/>
+  <repository name="packagerep-ivy" url="http://coretech.caecorp.cae.com/packagerep" pattern="[organisation]/[module]/[revision]/ivy-[revision].xml" ivys="true" artifacts="false"/>
+  <repository name="packagerep-artifacts" url="http://coretech.caecorp.cae.com/packagerep" pattern="[organisation]/[module]/[revision]/[artifact]-[revision].[type]" ivys="false" artifacts="true" homepage="http://coretech.caecorp.cae.com/jira/browse/VSKFLIGHTCONTROLS"/>
+  <description>VSK-FC -- This is the Fc SDK Package. - 
+   <a href="http://coretech.caecorp.cae.com/clearspace/tags/vsk-fc_releasenotes">Release Notes</a>
+  </description>
+ </info>
+ <publications>
+ </publications>
+ <configurations>
+  <conf name="BuildTimeDependencies"/>
+  <conf name="RunTimeDependencies"/>
+  <conf name="TestingDependencies"/>
+ </configurations>
+ <dependencies>
+  <dependency org="CAE" name="ACS" rev="2.25.2" force="true" conf="BuildTimeDependencies-&gt;*" branch="MAIN">
+   <artifact name="ACS2Suite" type="msi"/>
+   <artifact name="ACS2Suite" type="xml" hidden="true"/>
+   <artifact name="scd" type="xml" hidden="true"/>
+  </dependency>
+ </dependencies>
+</ivy-module>
diff --git a/test/repositories/extra-attributes-forceddependencies/filerepo-attribs/CAE-VSK/VSK-FC/0.54.0.0/ivy-0.54.0.0.xml b/test/repositories/extra-attributes-forceddependencies/filerepo-attribs/CAE-VSK/VSK-FC/0.54.0.0/ivy-0.54.0.0.xml
new file mode 100644
index 000000000..4362a5153
--- /dev/null
+++ b/test/repositories/extra-attributes-forceddependencies/filerepo-attribs/CAE-VSK/VSK-FC/0.54.0.0/ivy-0.54.0.0.xml
@@ -0,0 +1,44 @@
+<?xml version="1.0" encoding="ISO-8859-1"?>
+<!--
+   Licensed to the Apache Software Foundation (ASF) under one
+   or more contributor license agreements.  See the NOTICE file
+   distributed with this work for additional information
+   regarding copyright ownership.  The ASF licenses this file
+   to you under the Apache License, Version 2.0 (the
+   "License"); you may not use this file except in compliance
+   with the License.  You may obtain a copy of the License at
+
+     http://www.apache.org/licenses/LICENSE-2.0
+
+   Unless required by applicable law or agreed to in writing,
+   software distributed under the License is distributed on an
+   "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
+   KIND, either express or implied.  See the License for the
+   specific language governing permissions and limitations
+   under the License.    
+-->
+<ivy-module version="2.0">
+ <info organisation="CAE-VSK" module="VSK-FC" revision="0.54.0.0" status="Development" publication="20081016173017" buddies="" approver="Mathieu Boisvert">
+  <license name="CAE Proprietary"/>
+  <ivyauthor name="FC - Runway - FC" url="http://coretech.caecorp.cae.com/jira/browse/VSKFLIGHTCONTROLS"/>
+  <repository name="packagerep-ivy" url="http://coretech.caecorp.cae.com/packagerep" pattern="[organisation]/[module]/[revision]/ivy-[revision].xml" ivys="true" artifacts="false"/>
+  <repository name="packagerep-artifacts" url="http://coretech.caecorp.cae.com/packagerep" pattern="[organisation]/[module]/[revision]/[artifact]-[revision].[type]" ivys="false" artifacts="true" homepage="http://coretech.caecorp.cae.com/jira/browse/VSKFLIGHTCONTROLS"/>
+  <description>VSK-FC -- This is the Fc SDK Package. - 
+   <a href="http://coretech.caecorp.cae.com/clearspace/tags/vsk-fc_releasenotes">Release Notes</a>
+  </description>
+ </info>
+ <publications>
+ </publications>
+ <configurations>
+  <conf name="BuildTimeDependencies"/>
+  <conf name="RunTimeDependencies"/>
+  <conf name="TestingDependencies"/>
+ </configurations>
+ <dependencies>
+  <dependency org="CAE" name="ACS" rev="2.25.2" force="true" conf="BuildTimeDependencies-&gt;*" branch="MAIN">
+   <artifact name="ACS2Suite" type="msi"/>
+   <artifact name="ACS2Suite" type="xml" hidden="true"/>
+   <artifact name="scd" type="xml" hidden="true"/>
+  </dependency>
+ </dependencies>
+</ivy-module>
diff --git a/test/repositories/extra-attributes-forceddependencies/filerepo-attribs/CAE-VSK/VSK-FC/0.54.1.0/ivy-0.54.1.0.xml b/test/repositories/extra-attributes-forceddependencies/filerepo-attribs/CAE-VSK/VSK-FC/0.54.1.0/ivy-0.54.1.0.xml
new file mode 100644
index 000000000..f4f018345
--- /dev/null
+++ b/test/repositories/extra-attributes-forceddependencies/filerepo-attribs/CAE-VSK/VSK-FC/0.54.1.0/ivy-0.54.1.0.xml
@@ -0,0 +1,44 @@
+<?xml version="1.0" encoding="ISO-8859-1"?>
+<!--
+   Licensed to the Apache Software Foundation (ASF) under one
+   or more contributor license agreements.  See the NOTICE file
+   distributed with this work for additional information
+   regarding copyright ownership.  The ASF licenses this file
+   to you under the Apache License, Version 2.0 (the
+   "License"); you may not use this file except in compliance
+   with the License.  You may obtain a copy of the License at
+
+     http://www.apache.org/licenses/LICENSE-2.0
+
+   Unless required by applicable law or agreed to in writing,
+   software distributed under the License is distributed on an
+   "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
+   KIND, either express or implied.  See the License for the
+   specific language governing permissions and limitations
+   under the License.    
+-->
+<ivy-module version="2.0">
+ <info organisation="CAE-VSK" module="VSK-FC" revision="0.54.1.0" status="Development" publication="20081022154820" buddies="" approver="Mathieu Boisvert">
+  <license name="CAE Proprietary"/>
+  <ivyauthor name="FC - Runway - FC" url="http://coretech.caecorp.cae.com/jira/browse/VSKFLIGHTCONTROLS"/>
+  <repository name="packagerep-ivy" url="http://coretech.caecorp.cae.com/packagerep" pattern="[organisation]/[module]/[revision]/ivy-[revision].xml" ivys="true" artifacts="false"/>
+  <repository name="packagerep-artifacts" url="http://coretech.caecorp.cae.com/packagerep" pattern="[organisation]/[module]/[revision]/[artifact]-[revision].[type]" ivys="false" artifacts="true" homepage="http://coretech.caecorp.cae.com/jira/browse/VSKFLIGHTCONTROLS"/>
+  <description>VSK-FC -- This is the Fc SDK Package. - 
+   <a href="http://coretech.caecorp.cae.com/clearspace/tags/vsk-fc_releasenotes">Release Notes</a>
+  </description>
+ </info>
+ <publications>
+ </publications>
+ <configurations>
+  <conf name="BuildTimeDependencies"/>
+  <conf name="RunTimeDependencies"/>
+  <conf name="TestingDependencies"/>
+ </configurations>
+ <dependencies>
+  <dependency org="CAE" name="ACS" rev="2.25.2" force="true" conf="BuildTimeDependencies-&gt;*" branch="MAIN">
+   <artifact name="ACS2Suite" type="msi"/>
+   <artifact name="ACS2Suite" type="xml" hidden="true"/>
+   <artifact name="scd" type="xml" hidden="true"/>
+  </dependency>
+ </dependencies>
+</ivy-module>
diff --git a/test/repositories/extra-attributes-forceddependencies/filerepo-attribs/CAE-Visualization-Components/RTS/6.2.1.20/RTS-6.2.1.20.zip b/test/repositories/extra-attributes-forceddependencies/filerepo-attribs/CAE-Visualization-Components/RTS/6.2.1.20/RTS-6.2.1.20.zip
new file mode 100644
index 000000000..e69de29bb
diff --git a/test/repositories/extra-attributes-forceddependencies/filerepo-attribs/CAE-Visualization-Components/RTS/6.2.1.20/ivy-6.2.1.20.xml b/test/repositories/extra-attributes-forceddependencies/filerepo-attribs/CAE-Visualization-Components/RTS/6.2.1.20/ivy-6.2.1.20.xml
new file mode 100644
index 000000000..3b5cf23d8
--- /dev/null
+++ b/test/repositories/extra-attributes-forceddependencies/filerepo-attribs/CAE-Visualization-Components/RTS/6.2.1.20/ivy-6.2.1.20.xml
@@ -0,0 +1,40 @@
+<?xml version="1.0" encoding="UTF-8"?>
+<!--
+   Licensed to the Apache Software Foundation (ASF) under one
+   or more contributor license agreements.  See the NOTICE file
+   distributed with this work for additional information
+   regarding copyright ownership.  The ASF licenses this file
+   to you under the Apache License, Version 2.0 (the
+   "License"); you may not use this file except in compliance
+   with the License.  You may obtain a copy of the License at
+
+     http://www.apache.org/licenses/LICENSE-2.0
+
+   Unless required by applicable law or agreed to in writing,
+   software distributed under the License is distributed on an
+   "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
+   KIND, either express or implied.  See the License for the
+   specific language governing permissions and limitations
+   under the License.    
+-->
+<ivy-module version="2.0">
+ <info organisation="CAE-Visualization-Components" module="RTS" revision="6.2.1.20" status="Development" publication="20090427220236" buddies="" approver="Mathieu Benoit">
+  <license name="CAE Proprietary"/>
+  <ivyauthor name="RTS - CAE Visualization Products" url="http://www.cae.com"/>
+  <repository name="packagerep-ivy" url="http://coretech.caecorp.cae.com/packagerep" pattern="[organisation]/[module]/[revision]/ivy-[revision].xml" ivys="true" artifacts="false"/>
+  <repository name="packagerep-artifacts" url="http://coretech.caecorp.cae.com/packagerep" pattern="[organisation]/[module]/[revision]/[artifact]-[revision].[type]" ivys="false" artifacts="true"/>
+  <description homepage="http://www.cae.com"><a href='http://coretech.caecorp.cae.com/releasenotes/view/RTS6.2.1.20'> RTS 6.2.1.20 Release Notes</a></description>
+ </info>
+ <publications>
+  <artifact name="RTS" type="zip"/>
+ </publications>
+ <configurations>
+  <conf name="BuildTimeDependencies"/>
+  <conf name="RunTimeDependencies"/>
+  <conf name="TestingDependencies"/>
+ </configurations>
+ <dependencies>
+  <dependency org="CAE-Visualization-Components" name="SGL" rev="6.2.34.7" force="true" conf="BuildTimeDependencies->*" branch="MAIN">
+  </dependency>
+ </dependencies>
+</ivy-module>
diff --git a/test/repositories/extra-attributes-forceddependencies/filerepo-attribs/CAE-Visualization-Components/SGL/6.2.34.17/SGL-6.2.34.17.zip b/test/repositories/extra-attributes-forceddependencies/filerepo-attribs/CAE-Visualization-Components/SGL/6.2.34.17/SGL-6.2.34.17.zip
new file mode 100644
index 000000000..e69de29bb
diff --git a/test/repositories/extra-attributes-forceddependencies/filerepo-attribs/CAE-Visualization-Components/SGL/6.2.34.17/ivy-6.2.34.17.xml b/test/repositories/extra-attributes-forceddependencies/filerepo-attribs/CAE-Visualization-Components/SGL/6.2.34.17/ivy-6.2.34.17.xml
new file mode 100644
index 000000000..e9a7b6819
--- /dev/null
+++ b/test/repositories/extra-attributes-forceddependencies/filerepo-attribs/CAE-Visualization-Components/SGL/6.2.34.17/ivy-6.2.34.17.xml
@@ -0,0 +1,38 @@
+<?xml version="1.0" encoding="UTF-8"?>
+<!--
+   Licensed to the Apache Software Foundation (ASF) under one
+   or more contributor license agreements.  See the NOTICE file
+   distributed with this work for additional information
+   regarding copyright ownership.  The ASF licenses this file
+   to you under the Apache License, Version 2.0 (the
+   "License"); you may not use this file except in compliance
+   with the License.  You may obtain a copy of the License at
+
+     http://www.apache.org/licenses/LICENSE-2.0
+
+   Unless required by applicable law or agreed to in writing,
+   software distributed under the License is distributed on an
+   "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
+   KIND, either express or implied.  See the License for the
+   specific language governing permissions and limitations
+   under the License.    
+-->
+<ivy-module version="2.0">
+ <info organisation="CAE-Visualization-Components" module="SGL" branch="MAIN" revision="6.2.34.17" status="Development" publication="20090513223453" buddies="" approver="Marc De Sales Laterriere">
+  <license name="CAE Proprietary"/>
+  <ivyauthor name="SGL - CAE Visualization Products" url="http://www.cae.com"/>
+  <repository name="packagerep-ivy" url="http://coretech.caecorp.cae.com/packagerep" pattern="[organisation]/[module]/[revision]/ivy-[revision].xml" ivys="true" artifacts="false"/>
+  <repository name="packagerep-artifacts" url="http://coretech.caecorp.cae.com/packagerep" pattern="[organisation]/[module]/[revision]/[artifact]-[revision].[type]" ivys="false" artifacts="true"/>
+  <description homepage="http://www.cae.com"><a href='http://coretech.caecorp.cae.com/releasenotes/view/SGL6.2.34.17'> SGL 6.2.34.17 Release Notes</a></description>
+ </info>
+ <publications>
+  <artifact name="SGL" type="zip"/>
+ </publications>
+ <configurations>
+  <conf name="BuildTimeDependencies"/>
+  <conf name="RunTimeDependencies"/>
+  <conf name="TestingDependencies"/>
+ </configurations>
+ <dependencies>
+ </dependencies>
+</ivy-module>
diff --git a/test/repositories/extra-attributes-forceddependencies/filerepo-attribs/CAE-Visualization-Components/SGL/6.2.34.7/SGL-6.2.34.7.zip b/test/repositories/extra-attributes-forceddependencies/filerepo-attribs/CAE-Visualization-Components/SGL/6.2.34.7/SGL-6.2.34.7.zip
new file mode 100644
index 000000000..e69de29bb
diff --git a/test/repositories/extra-attributes-forceddependencies/filerepo-attribs/CAE-Visualization-Components/SGL/6.2.34.7/ivy-6.2.34.7.xml b/test/repositories/extra-attributes-forceddependencies/filerepo-attribs/CAE-Visualization-Components/SGL/6.2.34.7/ivy-6.2.34.7.xml
new file mode 100644
index 000000000..f31f9f38d
--- /dev/null
+++ b/test/repositories/extra-attributes-forceddependencies/filerepo-attribs/CAE-Visualization-Components/SGL/6.2.34.7/ivy-6.2.34.7.xml
@@ -0,0 +1,38 @@
+<?xml version="1.0" encoding="UTF-8"?>
+<!--
+   Licensed to the Apache Software Foundation (ASF) under one
+   or more contributor license agreements.  See the NOTICE file
+   distributed with this work for additional information
+   regarding copyright ownership.  The ASF licenses this file
+   to you under the Apache License, Version 2.0 (the
+   "License"); you may not use this file except in compliance
+   with the License.  You may obtain a copy of the License at
+
+     http://www.apache.org/licenses/LICENSE-2.0
+
+   Unless required by applicable law or agreed to in writing,
+   software distributed under the License is distributed on an
+   "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
+   KIND, either express or implied.  See the License for the
+   specific language governing permissions and limitations
+   under the License.    
+-->
+<ivy-module version="2.0">
+ <info organisation="CAE-Visualization-Components" module="SGL" revision="6.2.34.7" status="Development" publication="20090424220207" buddies="" approver="Marc De Sales Laterriere">
+  <license name="CAE Proprietary"/>
+  <ivyauthor name="SGL - CAE Visualization Products" url="http://www.cae.com"/>
+  <repository name="packagerep-ivy" url="http://coretech.caecorp.cae.com/packagerep" pattern="[organisation]/[module]/[revision]/ivy-[revision].xml" ivys="true" artifacts="false"/>
+  <repository name="packagerep-artifacts" url="http://coretech.caecorp.cae.com/packagerep" pattern="[organisation]/[module]/[revision]/[artifact]-[revision].[type]" ivys="false" artifacts="true"/>
+  <description homepage="http://www.cae.com"><a href='http://coretech.caecorp.cae.com/releasenotes/view/SGL6.2.34.7'> SGL 6.2.34.7 Release Notes</a></description>
+ </info>
+ <publications>
+  <artifact name="SGL" type="zip"/>
+ </publications>
+ <configurations>
+  <conf name="BuildTimeDependencies"/>
+  <conf name="RunTimeDependencies"/>
+  <conf name="TestingDependencies"/>
+ </configurations>
+ <dependencies>
+ </dependencies>
+</ivy-module>
diff --git a/test/repositories/extra-attributes-forceddependencies/filerepo-noattribs/CAE-VSK/VSK-FC/0.53.0.1/ivy-0.53.0.1.xml b/test/repositories/extra-attributes-forceddependencies/filerepo-noattribs/CAE-VSK/VSK-FC/0.53.0.1/ivy-0.53.0.1.xml
new file mode 100644
index 000000000..67aedfb46
--- /dev/null
+++ b/test/repositories/extra-attributes-forceddependencies/filerepo-noattribs/CAE-VSK/VSK-FC/0.53.0.1/ivy-0.53.0.1.xml
@@ -0,0 +1,44 @@
+<?xml version="1.0" encoding="ISO-8859-1"?>
+<!--
+   Licensed to the Apache Software Foundation (ASF) under one
+   or more contributor license agreements.  See the NOTICE file
+   distributed with this work for additional information
+   regarding copyright ownership.  The ASF licenses this file
+   to you under the Apache License, Version 2.0 (the
+   "License"); you may not use this file except in compliance
+   with the License.  You may obtain a copy of the License at
+
+     http://www.apache.org/licenses/LICENSE-2.0
+
+   Unless required by applicable law or agreed to in writing,
+   software distributed under the License is distributed on an
+   "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
+   KIND, either express or implied.  See the License for the
+   specific language governing permissions and limitations
+   under the License.    
+-->
+<ivy-module version="2.0">
+ <info organisation="CAE-VSK" module="VSK-FC" revision="0.53.0.1" status="Development" publication="20081008191838" buddies="" approver="Sebastien Bolduc">
+  <license name="CAE Proprietary"/>
+  <ivyauthor name="FC - Runway - FC" url="http://coretech.caecorp.cae.com/jira/browse/VSKFLIGHTCONTROLS"/>
+  <repository name="packagerep-ivy" url="http://coretech.caecorp.cae.com/packagerep" pattern="[organisation]/[module]/[revision]/ivy-[revision].xml" ivys="true" artifacts="false"/>
+  <repository name="packagerep-artifacts" url="http://coretech.caecorp.cae.com/packagerep" pattern="[organisation]/[module]/[revision]/[artifact]-[revision].[type]" ivys="false" artifacts="true" homepage="http://coretech.caecorp.cae.com/jira/browse/VSKFLIGHTCONTROLS"/>
+  <description>VSK-FC -- This is the Fc SDK Package. - 
+   <a href="http://coretech.caecorp.cae.com/clearspace/tags/vsk-fc_releasenotes">Release Notes</a>
+  </description>
+ </info>
+ <publications>
+ </publications>
+ <configurations>
+  <conf name="BuildTimeDependencies"/>
+  <conf name="RunTimeDependencies"/>
+  <conf name="TestingDependencies"/>
+ </configurations>
+ <dependencies>
+  <dependency org="CAE" name="ACS" rev="2.25.2" force="true" conf="BuildTimeDependencies-&gt;*" branch="MAIN">
+   <artifact name="ACS2Suite" type="msi"/>
+   <artifact name="ACS2Suite" type="xml" hidden="true"/>
+   <artifact name="scd" type="xml" hidden="true"/>
+  </dependency>
+ </dependencies>
+</ivy-module>
diff --git a/test/repositories/extra-attributes-forceddependencies/filerepo-noattribs/CAE-VSK/VSK-FC/0.54.0.0/ivy-0.54.0.0.xml b/test/repositories/extra-attributes-forceddependencies/filerepo-noattribs/CAE-VSK/VSK-FC/0.54.0.0/ivy-0.54.0.0.xml
new file mode 100644
index 000000000..4362a5153
--- /dev/null
+++ b/test/repositories/extra-attributes-forceddependencies/filerepo-noattribs/CAE-VSK/VSK-FC/0.54.0.0/ivy-0.54.0.0.xml
@@ -0,0 +1,44 @@
+<?xml version="1.0" encoding="ISO-8859-1"?>
+<!--
+   Licensed to the Apache Software Foundation (ASF) under one
+   or more contributor license agreements.  See the NOTICE file
+   distributed with this work for additional information
+   regarding copyright ownership.  The ASF licenses this file
+   to you under the Apache License, Version 2.0 (the
+   "License"); you may not use this file except in compliance
+   with the License.  You may obtain a copy of the License at
+
+     http://www.apache.org/licenses/LICENSE-2.0
+
+   Unless required by applicable law or agreed to in writing,
+   software distributed under the License is distributed on an
+   "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
+   KIND, either express or implied.  See the License for the
+   specific language governing permissions and limitations
+   under the License.    
+-->
+<ivy-module version="2.0">
+ <info organisation="CAE-VSK" module="VSK-FC" revision="0.54.0.0" status="Development" publication="20081016173017" buddies="" approver="Mathieu Boisvert">
+  <license name="CAE Proprietary"/>
+  <ivyauthor name="FC - Runway - FC" url="http://coretech.caecorp.cae.com/jira/browse/VSKFLIGHTCONTROLS"/>
+  <repository name="packagerep-ivy" url="http://coretech.caecorp.cae.com/packagerep" pattern="[organisation]/[module]/[revision]/ivy-[revision].xml" ivys="true" artifacts="false"/>
+  <repository name="packagerep-artifacts" url="http://coretech.caecorp.cae.com/packagerep" pattern="[organisation]/[module]/[revision]/[artifact]-[revision].[type]" ivys="false" artifacts="true" homepage="http://coretech.caecorp.cae.com/jira/browse/VSKFLIGHTCONTROLS"/>
+  <description>VSK-FC -- This is the Fc SDK Package. - 
+   <a href="http://coretech.caecorp.cae.com/clearspace/tags/vsk-fc_releasenotes">Release Notes</a>
+  </description>
+ </info>
+ <publications>
+ </publications>
+ <configurations>
+  <conf name="BuildTimeDependencies"/>
+  <conf name="RunTimeDependencies"/>
+  <conf name="TestingDependencies"/>
+ </configurations>
+ <dependencies>
+  <dependency org="CAE" name="ACS" rev="2.25.2" force="true" conf="BuildTimeDependencies-&gt;*" branch="MAIN">
+   <artifact name="ACS2Suite" type="msi"/>
+   <artifact name="ACS2Suite" type="xml" hidden="true"/>
+   <artifact name="scd" type="xml" hidden="true"/>
+  </dependency>
+ </dependencies>
+</ivy-module>
diff --git a/test/repositories/extra-attributes-forceddependencies/filerepo-noattribs/CAE-VSK/VSK-FC/0.54.1.0/ivy-0.54.1.0.xml b/test/repositories/extra-attributes-forceddependencies/filerepo-noattribs/CAE-VSK/VSK-FC/0.54.1.0/ivy-0.54.1.0.xml
new file mode 100644
index 000000000..f4f018345
--- /dev/null
+++ b/test/repositories/extra-attributes-forceddependencies/filerepo-noattribs/CAE-VSK/VSK-FC/0.54.1.0/ivy-0.54.1.0.xml
@@ -0,0 +1,44 @@
+<?xml version="1.0" encoding="ISO-8859-1"?>
+<!--
+   Licensed to the Apache Software Foundation (ASF) under one
+   or more contributor license agreements.  See the NOTICE file
+   distributed with this work for additional information
+   regarding copyright ownership.  The ASF licenses this file
+   to you under the Apache License, Version 2.0 (the
+   "License"); you may not use this file except in compliance
+   with the License.  You may obtain a copy of the License at
+
+     http://www.apache.org/licenses/LICENSE-2.0
+
+   Unless required by applicable law or agreed to in writing,
+   software distributed under the License is distributed on an
+   "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
+   KIND, either express or implied.  See the License for the
+   specific language governing permissions and limitations
+   under the License.    
+-->
+<ivy-module version="2.0">
+ <info organisation="CAE-VSK" module="VSK-FC" revision="0.54.1.0" status="Development" publication="20081022154820" buddies="" approver="Mathieu Boisvert">
+  <license name="CAE Proprietary"/>
+  <ivyauthor name="FC - Runway - FC" url="http://coretech.caecorp.cae.com/jira/browse/VSKFLIGHTCONTROLS"/>
+  <repository name="packagerep-ivy" url="http://coretech.caecorp.cae.com/packagerep" pattern="[organisation]/[module]/[revision]/ivy-[revision].xml" ivys="true" artifacts="false"/>
+  <repository name="packagerep-artifacts" url="http://coretech.caecorp.cae.com/packagerep" pattern="[organisation]/[module]/[revision]/[artifact]-[revision].[type]" ivys="false" artifacts="true" homepage="http://coretech.caecorp.cae.com/jira/browse/VSKFLIGHTCONTROLS"/>
+  <description>VSK-FC -- This is the Fc SDK Package. - 
+   <a href="http://coretech.caecorp.cae.com/clearspace/tags/vsk-fc_releasenotes">Release Notes</a>
+  </description>
+ </info>
+ <publications>
+ </publications>
+ <configurations>
+  <conf name="BuildTimeDependencies"/>
+  <conf name="RunTimeDependencies"/>
+  <conf name="TestingDependencies"/>
+ </configurations>
+ <dependencies>
+  <dependency org="CAE" name="ACS" rev="2.25.2" force="true" conf="BuildTimeDependencies-&gt;*" branch="MAIN">
+   <artifact name="ACS2Suite" type="msi"/>
+   <artifact name="ACS2Suite" type="xml" hidden="true"/>
+   <artifact name="scd" type="xml" hidden="true"/>
+  </dependency>
+ </dependencies>
+</ivy-module>
diff --git a/test/repositories/extra-attributes-forceddependencies/filerepo-noattribs/CAE-Visualization-Components/RTS/6.2.1.20/RTS-6.2.1.20.zip b/test/repositories/extra-attributes-forceddependencies/filerepo-noattribs/CAE-Visualization-Components/RTS/6.2.1.20/RTS-6.2.1.20.zip
new file mode 100644
index 000000000..e69de29bb
diff --git a/test/repositories/extra-attributes-forceddependencies/filerepo-noattribs/CAE-Visualization-Components/RTS/6.2.1.20/ivy-6.2.1.20.xml b/test/repositories/extra-attributes-forceddependencies/filerepo-noattribs/CAE-Visualization-Components/RTS/6.2.1.20/ivy-6.2.1.20.xml
new file mode 100644
index 000000000..beca1bfdc
--- /dev/null
+++ b/test/repositories/extra-attributes-forceddependencies/filerepo-noattribs/CAE-Visualization-Components/RTS/6.2.1.20/ivy-6.2.1.20.xml
@@ -0,0 +1,40 @@
+<?xml version="1.0" encoding="UTF-8"?>
+<!--
+   Licensed to the Apache Software Foundation (ASF) under one
+   or more contributor license agreements.  See the NOTICE file
+   distributed with this work for additional information
+   regarding copyright ownership.  The ASF licenses this file
+   to you under the Apache License, Version 2.0 (the
+   "License"); you may not use this file except in compliance
+   with the License.  You may obtain a copy of the License at
+
+     http://www.apache.org/licenses/LICENSE-2.0
+
+   Unless required by applicable law or agreed to in writing,
+   software distributed under the License is distributed on an
+   "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
+   KIND, either express or implied.  See the License for the
+   specific language governing permissions and limitations
+   under the License.    
+-->
+<ivy-module version="2.0">
+ <info organisation="CAE-Visualization-Components" module="RTS" revision="6.2.1.20" status="Development" publication="20090427220236">
+  <license name="CAE Proprietary"/>
+  <ivyauthor name="RTS - CAE Visualization Products" url="http://www.cae.com"/>
+  <repository name="packagerep-ivy" url="http://coretech.caecorp.cae.com/packagerep" pattern="[organisation]/[module]/[revision]/ivy-[revision].xml" ivys="true" artifacts="false"/>
+  <repository name="packagerep-artifacts" url="http://coretech.caecorp.cae.com/packagerep" pattern="[organisation]/[module]/[revision]/[artifact]-[revision].[type]" ivys="false" artifacts="true"/>
+  <description homepage="http://www.cae.com"><a href='http://coretech.caecorp.cae.com/releasenotes/view/RTS6.2.1.20'> RTS 6.2.1.20 Release Notes</a></description>
+ </info>
+ <publications>
+  <artifact name="RTS" type="zip"/>
+ </publications>
+ <configurations>
+  <conf name="BuildTimeDependencies"/>
+  <conf name="RunTimeDependencies"/>
+  <conf name="TestingDependencies"/>
+ </configurations>
+ <dependencies>
+  <dependency org="CAE-Visualization-Components" name="SGL" rev="6.2.34.7" force="true" conf="BuildTimeDependencies->*" branch="MAIN">
+  </dependency>
+ </dependencies>
+</ivy-module>
diff --git a/test/repositories/extra-attributes-forceddependencies/filerepo-noattribs/CAE-Visualization-Components/SGL/6.2.34.17/SGL-6.2.34.17.zip b/test/repositories/extra-attributes-forceddependencies/filerepo-noattribs/CAE-Visualization-Components/SGL/6.2.34.17/SGL-6.2.34.17.zip
new file mode 100644
index 000000000..e69de29bb
diff --git a/test/repositories/extra-attributes-forceddependencies/filerepo-noattribs/CAE-Visualization-Components/SGL/6.2.34.17/ivy-6.2.34.17.xml b/test/repositories/extra-attributes-forceddependencies/filerepo-noattribs/CAE-Visualization-Components/SGL/6.2.34.17/ivy-6.2.34.17.xml
new file mode 100644
index 000000000..8f2a875eb
--- /dev/null
+++ b/test/repositories/extra-attributes-forceddependencies/filerepo-noattribs/CAE-Visualization-Components/SGL/6.2.34.17/ivy-6.2.34.17.xml
@@ -0,0 +1,38 @@
+<?xml version="1.0" encoding="UTF-8"?>
+<!--
+   Licensed to the Apache Software Foundation (ASF) under one
+   or more contributor license agreements.  See the NOTICE file
+   distributed with this work for additional information
+   regarding copyright ownership.  The ASF licenses this file
+   to you under the Apache License, Version 2.0 (the
+   "License"); you may not use this file except in compliance
+   with the License.  You may obtain a copy of the License at
+
+     http://www.apache.org/licenses/LICENSE-2.0
+
+   Unless required by applicable law or agreed to in writing,
+   software distributed under the License is distributed on an
+   "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
+   KIND, either express or implied.  See the License for the
+   specific language governing permissions and limitations
+   under the License.    
+-->
+<ivy-module version="2.0">
+ <info organisation="CAE-Visualization-Components" module="SGL" branch="MAIN" revision="6.2.34.17" status="Development" publication="20090513223453">
+  <license name="CAE Proprietary"/>
+  <ivyauthor name="SGL - CAE Visualization Products" url="http://www.cae.com"/>
+  <repository name="packagerep-ivy" url="http://coretech.caecorp.cae.com/packagerep" pattern="[organisation]/[module]/[revision]/ivy-[revision].xml" ivys="true" artifacts="false"/>
+  <repository name="packagerep-artifacts" url="http://coretech.caecorp.cae.com/packagerep" pattern="[organisation]/[module]/[revision]/[artifact]-[revision].[type]" ivys="false" artifacts="true"/>
+  <description homepage="http://www.cae.com"><a href='http://coretech.caecorp.cae.com/releasenotes/view/SGL6.2.34.17'> SGL 6.2.34.17 Release Notes</a></description>
+ </info>
+ <publications>
+  <artifact name="SGL" type="zip"/>
+ </publications>
+ <configurations>
+  <conf name="BuildTimeDependencies"/>
+  <conf name="RunTimeDependencies"/>
+  <conf name="TestingDependencies"/>
+ </configurations>
+ <dependencies>
+ </dependencies>
+</ivy-module>
diff --git a/test/repositories/extra-attributes-forceddependencies/filerepo-noattribs/CAE-Visualization-Components/SGL/6.2.34.7/SGL-6.2.34.7.zip b/test/repositories/extra-attributes-forceddependencies/filerepo-noattribs/CAE-Visualization-Components/SGL/6.2.34.7/SGL-6.2.34.7.zip
new file mode 100644
index 000000000..e69de29bb
diff --git a/test/repositories/extra-attributes-forceddependencies/filerepo-noattribs/CAE-Visualization-Components/SGL/6.2.34.7/ivy-6.2.34.7.xml b/test/repositories/extra-attributes-forceddependencies/filerepo-noattribs/CAE-Visualization-Components/SGL/6.2.34.7/ivy-6.2.34.7.xml
new file mode 100644
index 000000000..8e0d6bae2
--- /dev/null
+++ b/test/repositories/extra-attributes-forceddependencies/filerepo-noattribs/CAE-Visualization-Components/SGL/6.2.34.7/ivy-6.2.34.7.xml
@@ -0,0 +1,38 @@
+<?xml version="1.0" encoding="UTF-8"?>
+<!--
+   Licensed to the Apache Software Foundation (ASF) under one
+   or more contributor license agreements.  See the NOTICE file
+   distributed with this work for additional information
+   regarding copyright ownership.  The ASF licenses this file
+   to you under the Apache License, Version 2.0 (the
+   "License"); you may not use this file except in compliance
+   with the License.  You may obtain a copy of the License at
+
+     http://www.apache.org/licenses/LICENSE-2.0
+
+   Unless required by applicable law or agreed to in writing,
+   software distributed under the License is distributed on an
+   "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
+   KIND, either express or implied.  See the License for the
+   specific language governing permissions and limitations
+   under the License.    
+-->
+<ivy-module version="2.0">
+ <info organisation="CAE-Visualization-Components" module="SGL" revision="6.2.34.7" status="Development" publication="20090424220207">
+  <license name="CAE Proprietary"/>
+  <ivyauthor name="SGL - CAE Visualization Products" url="http://www.cae.com"/>
+  <repository name="packagerep-ivy" url="http://coretech.caecorp.cae.com/packagerep" pattern="[organisation]/[module]/[revision]/ivy-[revision].xml" ivys="true" artifacts="false"/>
+  <repository name="packagerep-artifacts" url="http://coretech.caecorp.cae.com/packagerep" pattern="[organisation]/[module]/[revision]/[artifact]-[revision].[type]" ivys="false" artifacts="true"/>
+  <description homepage="http://www.cae.com"><a href='http://coretech.caecorp.cae.com/releasenotes/view/SGL6.2.34.7'> SGL 6.2.34.7 Release Notes</a></description>
+ </info>
+ <publications>
+  <artifact name="SGL" type="zip"/>
+ </publications>
+ <configurations>
+  <conf name="BuildTimeDependencies"/>
+  <conf name="RunTimeDependencies"/>
+  <conf name="TestingDependencies"/>
+ </configurations>
+ <dependencies>
+ </dependencies>
+</ivy-module>
diff --git a/test/repositories/extra-attributes-forceddependencies/ivysettings-filerepo-attribs.xml b/test/repositories/extra-attributes-forceddependencies/ivysettings-filerepo-attribs.xml
new file mode 100644
index 000000000..9ff20780f
--- /dev/null
+++ b/test/repositories/extra-attributes-forceddependencies/ivysettings-filerepo-attribs.xml
@@ -0,0 +1,34 @@
+<!--
+   Licensed to the Apache Software Foundation (ASF) under one
+   or more contributor license agreements.  See the NOTICE file
+   distributed with this work for additional information
+   regarding copyright ownership.  The ASF licenses this file
+   to you under the Apache License, Version 2.0 (the
+   "License"); you may not use this file except in compliance
+   with the License.  You may obtain a copy of the License at
+
+     http://www.apache.org/licenses/LICENSE-2.0
+
+   Unless required by applicable law or agreed to in writing,
+   software distributed under the License is distributed on an
+   "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
+   KIND, either express or implied.  See the License for the
+   specific language governing permissions and limitations
+   under the License.    
+-->
+<ivysettings>
+    <settings defaultBranch="MAIN" defaultResolver="attribs" defaultConflictManager="latest-compatible" defaultResolveMode="default"/>
+  
+	<resolvers>
+		<filesystem name="attribs"  checkconsistency="false">
+			<ivy pattern="${ivy.settings.dir}/filerepo-attribs/[organisation]/[module]/[revision]/ivy-[revision].xml"/>
+			<artifact pattern="${ivy.settings.dir}/filerepo-attribs/[organisation]/[module]/[revision]/[artifact]-[revision].[ext]"/>
+		</filesystem>	
+	</resolvers>
+	
+	<statuses default="Development">
+	  <status name="Development" integration="false"/>
+	  <status name="Integration" integration="true"/>
+	  <status name="integration" integration="true"/>
+	</statuses> 	
+</ivysettings>
\ No newline at end of file
diff --git a/test/repositories/extra-attributes-forceddependencies/ivysettings-filerepo-noattribs.xml b/test/repositories/extra-attributes-forceddependencies/ivysettings-filerepo-noattribs.xml
new file mode 100644
index 000000000..2065c9a5b
--- /dev/null
+++ b/test/repositories/extra-attributes-forceddependencies/ivysettings-filerepo-noattribs.xml
@@ -0,0 +1,34 @@
+<!--
+   Licensed to the Apache Software Foundation (ASF) under one
+   or more contributor license agreements.  See the NOTICE file
+   distributed with this work for additional information
+   regarding copyright ownership.  The ASF licenses this file
+   to you under the Apache License, Version 2.0 (the
+   "License"); you may not use this file except in compliance
+   with the License.  You may obtain a copy of the License at
+
+     http://www.apache.org/licenses/LICENSE-2.0
+
+   Unless required by applicable law or agreed to in writing,
+   software distributed under the License is distributed on an
+   "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
+   KIND, either express or implied.  See the License for the
+   specific language governing permissions and limitations
+   under the License.    
+-->
+<ivysettings>
+    <settings defaultBranch="MAIN" defaultResolver="attribs" defaultConflictManager="latest-compatible" defaultResolveMode="default"/>
+  
+	<resolvers>
+		<filesystem name="attribs"  checkconsistency="false">
+			<ivy pattern="${ivy.settings.dir}/filerepo-noattribs/[organisation]/[module]/[revision]/ivy-[revision].xml"/>
+			<artifact pattern="${ivy.settings.dir}/filerepo-noattribs/[organisation]/[module]/[revision]/[artifact]-[revision].[ext]"/>
+		</filesystem>	
+	</resolvers>
+	
+	<statuses default="Development">
+	  <status name="Development" integration="false"/>
+	  <status name="Integration" integration="true"/>
+	  <status name="integration" integration="true"/>
+	</statuses> 	
+</ivysettings>
\ No newline at end of file
