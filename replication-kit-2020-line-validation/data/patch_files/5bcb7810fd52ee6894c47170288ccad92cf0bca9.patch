From 5bcb7810fd52ee6894c47170288ccad92cf0bca9 Mon Sep 17 00:00:00 2001
From: Nicolas Lalevee <hibou@apache.org>
Date: Tue, 5 Oct 2010 13:16:46 +0000
Subject: [PATCH] IVY-1227: we shouldn't check for modification if we use only
 the cache

git-svn-id: https://svn.apache.org/repos/asf/ant/ivy/core/trunk@1004631 13f79535-47bb-0310-9956-ffa450edef68
---
 src/java/org/apache/ivy/plugins/resolver/AbstractResolver.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/src/java/org/apache/ivy/plugins/resolver/AbstractResolver.java b/src/java/org/apache/ivy/plugins/resolver/AbstractResolver.java
index cdbf00369..1c235a4f2 100644
--- a/src/java/org/apache/ivy/plugins/resolver/AbstractResolver.java
+++ b/src/java/org/apache/ivy/plugins/resolver/AbstractResolver.java
@@ -436,7 +436,7 @@ protected CacheMetadataOptions getCacheOptions(ResolveData data) {
         return (CacheMetadataOptions) new CacheMetadataOptions()
             .setChangingMatcherName(getChangingMatcherName())
             .setChangingPattern(getChangingPattern())
-            .setCheckmodified(checkmodified)
+            .setCheckmodified(data.getOptions().isUseCacheOnly() ? Boolean.FALSE : checkmodified)
             .setValidate(doValidate(data))
             .setNamespace(getNamespace())
             .setForce(data.getOptions().isRefresh())
