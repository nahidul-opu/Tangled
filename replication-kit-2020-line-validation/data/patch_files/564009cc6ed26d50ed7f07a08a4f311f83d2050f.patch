From 564009cc6ed26d50ed7f07a08a4f311f83d2050f Mon Sep 17 00:00:00 2001
From: Damjan Jovanovic <damjan@apache.org>
Date: Tue, 17 Jul 2012 04:02:19 +0000
Subject: [PATCH] Fix the lengths for DateTimeOriginal and DateTimeDigitized
 TIFF/EXIF tags.

Jira issue key: IMAGING-86



git-svn-id: https://svn.apache.org/repos/asf/commons/proper/imaging/trunk@1362341 13f79535-47bb-0310-9956-ffa450edef68
---
 .../imaging/formats/tiff/constants/ExifTagConstants.java  | 8 ++++----
 .../apache/commons/imaging/examples/MetadataExample.java  | 2 +-
 2 files changed, 5 insertions(+), 5 deletions(-)

diff --git a/src/main/java/org/apache/commons/imaging/formats/tiff/constants/ExifTagConstants.java b/src/main/java/org/apache/commons/imaging/formats/tiff/constants/ExifTagConstants.java
index 66fe5e346..c23ccef87 100644
--- a/src/main/java/org/apache/commons/imaging/formats/tiff/constants/ExifTagConstants.java
+++ b/src/main/java/org/apache/commons/imaging/formats/tiff/constants/ExifTagConstants.java
@@ -224,10 +224,10 @@ public interface ExifTagConstants
             "ExifVersion", 0x9000, 1,
             TiffDirectoryType.EXIF_DIRECTORY_EXIF_IFD);
     public static final TagInfoAscii EXIF_TAG_DATE_TIME_ORIGINAL = new TagInfoAscii(
-            "DateTimeOriginal", 0x9003, 1,
+            "DateTimeOriginal", 0x9003, 20,
             TiffDirectoryType.EXIF_DIRECTORY_EXIF_IFD);
-    public static final TagInfoAscii EXIF_TAG_CREATE_DATE = new TagInfoAscii(
-            "CreateDate", 0x9004, 1, TiffDirectoryType.EXIF_DIRECTORY_EXIF_IFD);
+    public static final TagInfoAscii EXIF_TAG_DATE_TIME_DIGITIZED = new TagInfoAscii(
+            "DateTimeDigitized", 0x9004, 20, TiffDirectoryType.EXIF_DIRECTORY_EXIF_IFD);
     public static final TagInfoUndefined EXIF_TAG_COMPONENTS_CONFIGURATION = new TagInfoUndefined(
             "ComponentsConfiguration", 0x9101, 1,
             TiffDirectoryType.EXIF_DIRECTORY_EXIF_IFD);
@@ -579,7 +579,7 @@ public interface ExifTagConstants
                     EXIF_TAG_OPTO_ELECTRIC_CONV_FACTOR,
                     EXIF_TAG_LEAF_SUB_IFD,
                     EXIF_TAG_EXIF_VERSION, EXIF_TAG_DATE_TIME_ORIGINAL,
-                    EXIF_TAG_CREATE_DATE, EXIF_TAG_COMPONENTS_CONFIGURATION,
+                    EXIF_TAG_DATE_TIME_DIGITIZED, EXIF_TAG_COMPONENTS_CONFIGURATION,
                     EXIF_TAG_COMPRESSED_BITS_PER_PIXEL, EXIF_TAG_SHUTTER_SPEED_VALUE,
                     EXIF_TAG_APERTURE_VALUE, EXIF_TAG_BRIGHTNESS_VALUE,
                     EXIF_TAG_EXPOSURE_COMPENSATION, EXIF_TAG_MAX_APERTURE_VALUE,
diff --git a/src/test/java/org/apache/commons/imaging/examples/MetadataExample.java b/src/test/java/org/apache/commons/imaging/examples/MetadataExample.java
index 40aff1783..a51291c76 100644
--- a/src/test/java/org/apache/commons/imaging/examples/MetadataExample.java
+++ b/src/test/java/org/apache/commons/imaging/examples/MetadataExample.java
@@ -58,7 +58,7 @@ public static void metadataExample(File file) throws ImageReadException,
             printTagValue(jpegMetadata, TiffTagConstants.TIFF_TAG_DATE_TIME);
             printTagValue(jpegMetadata,
                     ExifTagConstants.EXIF_TAG_DATE_TIME_ORIGINAL);
-            printTagValue(jpegMetadata, ExifTagConstants.EXIF_TAG_CREATE_DATE);
+            printTagValue(jpegMetadata, ExifTagConstants.EXIF_TAG_DATE_TIME_DIGITIZED);
             printTagValue(jpegMetadata, ExifTagConstants.EXIF_TAG_ISO);
             printTagValue(jpegMetadata,
                     ExifTagConstants.EXIF_TAG_SHUTTER_SPEED_VALUE);
