From 5ef9722809594f9e087a5be77c098057ef42969a Mon Sep 17 00:00:00 2001
From: Niall Pemberton <niallp@apache.org>
Date: Wed, 7 Nov 2007 04:17:01 +0000
Subject: [PATCH] IO-128 Change to NullPointerException so that behaviour is
 unchanged from before - just better error message

git-svn-id: https://svn.apache.org/repos/asf/commons/proper/io/trunk@592606 13f79535-47bb-0310-9956-ffa450edef68
---
 src/java/org/apache/commons/io/FilenameUtils.java         | 2 +-
 src/test/org/apache/commons/io/FilenameUtilsTestCase.java | 6 +++---
 2 files changed, 4 insertions(+), 4 deletions(-)

diff --git a/src/java/org/apache/commons/io/FilenameUtils.java b/src/java/org/apache/commons/io/FilenameUtils.java
index 2c6c62fd975..7de8d31ee1e 100644
--- a/src/java/org/apache/commons/io/FilenameUtils.java
+++ b/src/java/org/apache/commons/io/FilenameUtils.java
@@ -978,7 +978,7 @@ public static boolean equals(
             filename1 = normalize(filename1);
             filename2 = normalize(filename2);
             if (filename1 == null || filename2 == null) {
-                throw new IllegalArgumentException(
+                throw new NullPointerException(
                     "Error normalizing one or both of the file names");
             }
         }
diff --git a/src/test/org/apache/commons/io/FilenameUtilsTestCase.java b/src/test/org/apache/commons/io/FilenameUtilsTestCase.java
index 637f8acfe60..f9dd0248024 100644
--- a/src/test/org/apache/commons/io/FilenameUtilsTestCase.java
+++ b/src/test/org/apache/commons/io/FilenameUtilsTestCase.java
@@ -791,19 +791,19 @@ public void testEqualsNormalizedError_IO_128() {
         try {
             FilenameUtils.equalsNormalizedOnSystem("//file.txt", "file.txt");
             fail("Invalid normalized first file");
-        } catch(IllegalArgumentException e) {
+        } catch(NullPointerException e) {
             // expected result
         }
         try {
             FilenameUtils.equalsNormalizedOnSystem("file.txt", "//file.txt");
             fail("Invalid normalized second file");
-        } catch(IllegalArgumentException e) {
+        } catch(NullPointerException e) {
             // expected result
         }
         try {
             FilenameUtils.equalsNormalizedOnSystem("//file.txt", "//file.txt");
             fail("Invalid normalized both filse");
-        } catch(IllegalArgumentException e) {
+        } catch(NullPointerException e) {
             // expected result
         }
     }
