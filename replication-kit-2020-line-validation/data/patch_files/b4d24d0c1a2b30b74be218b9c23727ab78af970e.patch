From b4d24d0c1a2b30b74be218b9c23727ab78af970e Mon Sep 17 00:00:00 2001
From: Rory Winston <rwinston@apache.org>
Date: Tue, 4 Mar 2008 07:40:45 +0000
Subject: [PATCH] Remove specific isLeapYear() check, to handle other cases
 (such as Apr 26 02:00 in US/Central timezone). See NET-188

git-svn-id: https://svn.apache.org/repos/asf/commons/proper/net/branches/NET_2_0@633381 13f79535-47bb-0310-9956-ffa450edef68
---
 .../apache/commons/net/ftp/parser/FTPTimestampParserImpl.java  | 3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

diff --git a/src/main/java/org/apache/commons/net/ftp/parser/FTPTimestampParserImpl.java b/src/main/java/org/apache/commons/net/ftp/parser/FTPTimestampParserImpl.java
index 6f7d1afd2..32a6df141 100644
--- a/src/main/java/org/apache/commons/net/ftp/parser/FTPTimestampParserImpl.java
+++ b/src/main/java/org/apache/commons/net/ftp/parser/FTPTimestampParserImpl.java
@@ -101,8 +101,7 @@ public Calendar parseTimestamp(String timestampStr) throws ParseException {
 			// e.g. Java's DateFormatter will assume that "Feb 29 12:00" refers to 
 			// Feb 29 1970 (an invalid date) rather than a potentially valid leap year date.
 			// This is pretty bad hack to work around the deficiencies of the JDK date/time classes.
-			if (recentDateFormat != null && 
-					new GregorianCalendar().isLeapYear(now.get(Calendar.YEAR))) {
+			if (recentDateFormat != null) {
 				pp = new ParsePosition(0);
 				int year = Calendar.getInstance().get(Calendar.YEAR);
 				String timeStampStrPlusYear = timestampStr + " " + year;
