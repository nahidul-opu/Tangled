From 3bb9282d8876aff48148c25ec63536d352f775bf Mon Sep 17 00:00:00 2001
From: Christian Grobmeier <grobmeier@apache.org>
Date: Mon, 4 May 2009 09:15:01 +0000
Subject: [PATCH] COMPRESS-71: corrected use of parameter. Patch applied from
 Eric Chatellier.

git-svn-id: https://svn.apache.org/repos/asf/commons/proper/compress/trunk@771250 13f79535-47bb-0310-9956-ffa450edef68
---
 .../apache/commons/compress/archivers/tar/TarArchiveEntry.java  | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/src/main/java/org/apache/commons/compress/archivers/tar/TarArchiveEntry.java b/src/main/java/org/apache/commons/compress/archivers/tar/TarArchiveEntry.java
index 860d0eb5fa2..bc8a098e823 100644
--- a/src/main/java/org/apache/commons/compress/archivers/tar/TarArchiveEntry.java
+++ b/src/main/java/org/apache/commons/compress/archivers/tar/TarArchiveEntry.java
@@ -230,7 +230,7 @@ public TarArchiveEntry(File file, String fileName) {
             this.linkFlag = LF_DIR;
 
             int nameLength = fileName.length();
-            if (nameLength == 0 || name.charAt(nameLength - 1) != '/') {
+            if (nameLength == 0 || fileName.charAt(nameLength - 1) != '/') {
                 this.name = fileName + "/";
             } else {
                 this.name = fileName;                
