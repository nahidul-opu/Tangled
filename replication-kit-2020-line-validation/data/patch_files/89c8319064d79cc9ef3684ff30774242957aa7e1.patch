From 89c8319064d79cc9ef3684ff30774242957aa7e1 Mon Sep 17 00:00:00 2001
From: Lewis John McGibbney <lewismc@apache.org>
Date: Thu, 17 Nov 2011 13:41:22 +0000
Subject: [PATCH] commit to address GORA-57, update to changes.txt and thanks
 to Ferdy for the patch.

git-svn-id: https://svn.apache.org/repos/asf/incubator/gora/trunk@1203185 13f79535-47bb-0310-9956-ffa450edef68
---
 CHANGES.txt                                                     | 2 ++
 .../src/main/java/org/apache/gora/hbase/store/HBaseStore.java   | 2 +-
 2 files changed, 3 insertions(+), 1 deletion(-)

diff --git a/CHANGES.txt b/CHANGES.txt
index a090966de..0b8e5cd6c 100644
--- a/CHANGES.txt
+++ b/CHANGES.txt
@@ -2,6 +2,8 @@ Gora Change Log
 
 Trunk (unreleased changes):
 
+* GORA-57 HBaseStore does not correctly read family definitions (Ferdy via lewismc)
+
 * GORA-56 HBaseStore is not thread safe. (Ferdy via lewismc)
 
 * GORA-48. HBaseStore initialization of table without configuration in constructor will throw Exception (Ferdy via lewismc)
diff --git a/gora-hbase/src/main/java/org/apache/gora/hbase/store/HBaseStore.java b/gora-hbase/src/main/java/org/apache/gora/hbase/store/HBaseStore.java
index 6e943c861..9602bccfe 100644
--- a/gora-hbase/src/main/java/org/apache/gora/hbase/store/HBaseStore.java
+++ b/gora-hbase/src/main/java/org/apache/gora/hbase/store/HBaseStore.java
@@ -530,7 +530,7 @@ private HBaseMapping readMapping(String filename) throws IOException {
         String tableName = tableElement.getAttributeValue("name");
         mappingBuilder.addTable(tableName);
 
-        List<Element> fieldElements = tableElement.getChildren("field");
+        List<Element> fieldElements = tableElement.getChildren("family");
         for(Element fieldElement : fieldElements) {
           String familyName  = fieldElement.getAttributeValue("name");
           String compression = fieldElement.getAttributeValue("compression");
