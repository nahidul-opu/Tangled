From ddd5f1a5e951525c013077b8ec9b4c12c482eff4 Mon Sep 17 00:00:00 2001
From: Sebastien Brisard <celestin@apache.org>
Date: Sat, 9 Jun 2012 13:11:38 +0000
Subject: [PATCH] MATH-802.

git-svn-id: https://svn.apache.org/repos/asf/commons/proper/math/trunk@1348396 13f79535-47bb-0310-9956-ffa450edef68
---
 src/main/java/org/apache/commons/math3/linear/RealVector.java | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

diff --git a/src/main/java/org/apache/commons/math3/linear/RealVector.java b/src/main/java/org/apache/commons/math3/linear/RealVector.java
index 263c489690..1ca31ccd27 100644
--- a/src/main/java/org/apache/commons/math3/linear/RealVector.java
+++ b/src/main/java/org/apache/commons/math3/linear/RealVector.java
@@ -248,12 +248,12 @@ public RealVector add(RealVector v) {
      * if {@code v} is not the same size as this vector.
      */
     public RealVector subtract(RealVector v) {
-        RealVector result = v.copy();
+        RealVector result = v.mapMultiply(-1d);
         Iterator<Entry> it = sparseIterator();
         while (it.hasNext()) {
             final Entry e = it.next();
             final int index = e.getIndex();
-            result.setEntry(index, e.getValue() - result.getEntry(index));
+            result.setEntry(index, e.getValue() + result.getEntry(index));
         }
         return result;
     }
