From c4cd3d1c5ea6d15316713a633196185c78e5a8fc Mon Sep 17 00:00:00 2001
From: Sebastian Bazley <sebb@apache.org>
Date: Fri, 15 Aug 2008 19:03:23 +0000
Subject: [PATCH] NET-225 - FTPFileEntryParserImpl.preParse() doesn't remove
 unparsable entries at the end of the file list

git-svn-id: https://svn.apache.org/repos/asf/commons/proper/net/branches/NET_2_0@686323 13f79535-47bb-0310-9956-ffa450edef68
---
 .../org/apache/commons/net/ftp/FTPFileEntryParserImpl.java     | 2 --
 src/site/xdoc/changes.xml                                      | 3 +++
 2 files changed, 3 insertions(+), 2 deletions(-)

diff --git a/src/main/java/org/apache/commons/net/ftp/FTPFileEntryParserImpl.java b/src/main/java/org/apache/commons/net/ftp/FTPFileEntryParserImpl.java
index c2b0ea903..36fa6c3d6 100644
--- a/src/main/java/org/apache/commons/net/ftp/FTPFileEntryParserImpl.java
+++ b/src/main/java/org/apache/commons/net/ftp/FTPFileEntryParserImpl.java
@@ -70,8 +70,6 @@ public List<String> preParse(List<String> original) {
             String entry = it.next();
             if (null == parseFTPEntry(entry)) {
                 it.remove();
-            } else {
-                break;
             }
          }
          return original;
diff --git a/src/site/xdoc/changes.xml b/src/site/xdoc/changes.xml
index b3d244282..e4a9594bb 100644
--- a/src/site/xdoc/changes.xml
+++ b/src/site/xdoc/changes.xml
@@ -170,6 +170,9 @@ limitations under the License.
             </action>
             <action dev="sebb" type="fix" issue="NET-230">
                 ParserInitializationException when connecting to a Unix FTP server: comparison string must be upper case
+            </action>
+            <action dev="sebb" type="fix" issue="NET-225">
+                FTPFileEntryParserImpl.preParse() doesn't remove unparsable entries at the end of the file list
             </action>
 		</release>	
 
