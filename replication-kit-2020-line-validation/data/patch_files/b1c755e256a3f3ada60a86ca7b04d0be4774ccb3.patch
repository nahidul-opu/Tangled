From b1c755e256a3f3ada60a86ca7b04d0be4774ccb3 Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?J=C3=B6rn=20Kottmann?= <joern@apache.org>
Date: Thu, 28 May 2015 11:34:43 +0000
Subject: [PATCH] OPENNLP-784 Now recognizes all kinds of white spaces to
 seperate a line in the annotation config

git-svn-id: https://svn.apache.org/repos/asf/opennlp/trunk@1682215 13f79535-47bb-0310-9956-ffa450edef68
---
 .../tools/formats/brat/AnnotationConfiguration.java    | 10 ++++++----
 1 file changed, 6 insertions(+), 4 deletions(-)

diff --git a/opennlp-tools/src/main/java/opennlp/tools/formats/brat/AnnotationConfiguration.java b/opennlp-tools/src/main/java/opennlp/tools/formats/brat/AnnotationConfiguration.java
index 5789566b3..40b358bee 100644
--- a/opennlp-tools/src/main/java/opennlp/tools/formats/brat/AnnotationConfiguration.java
+++ b/opennlp-tools/src/main/java/opennlp/tools/formats/brat/AnnotationConfiguration.java
@@ -25,6 +25,7 @@
 import java.util.Collections;
 import java.util.HashMap;
 import java.util.Map;
+import opennlp.tools.tokenize.WhitespaceTokenizer;
 
 public class AnnotationConfiguration {
 
@@ -58,7 +59,7 @@ public static AnnotationConfiguration parse(InputStream in) throws IOException {
     while ((line = reader.readLine())!= null) {
       line = line.trim();
 
-      if (line.length() == 0) {
+      if (line.isEmpty()) {
         continue;
       } else if (line.startsWith("#")) {
         continue;
@@ -66,18 +67,19 @@ public static AnnotationConfiguration parse(InputStream in) throws IOException {
         sectionType = line.substring(line.indexOf('[') + 1, line.indexOf(']'));
       }
       else {
+        String typeName = WhitespaceTokenizer.INSTANCE.tokenize(line)[0];
 
         switch (sectionType) {
         case "entities":
-          typeToClassMap.put(line, AnnotationConfiguration.ENTITY_TYPE);
+          typeToClassMap.put(typeName, AnnotationConfiguration.ENTITY_TYPE);
           break;
 
         case "relations":
-          typeToClassMap.put(line.substring(0, line.indexOf(' ')), AnnotationConfiguration.RELATION_TYPE);
+          typeToClassMap.put(typeName, AnnotationConfiguration.RELATION_TYPE);
           break;
 
         case "attributes":
-          typeToClassMap.put(line.substring(0, line.indexOf(' ')), AnnotationConfiguration.ATTRIBUTE_TYPE);
+          typeToClassMap.put(typeName, AnnotationConfiguration.ATTRIBUTE_TYPE);
           break;
 
         default:
