From 8587d603c801ba22ef87c8c6414cd49ce6532da8 Mon Sep 17 00:00:00 2001
From: Matthew Jason Benson <mbenson@apache.org>
Date: Fri, 12 Feb 2010 21:16:29 +0000
Subject: [PATCH] [IVY-1171] handle configuration wildcards for artifact
 publishing

git-svn-id: https://svn.apache.org/repos/asf/ant/ivy/core/trunk@909606 13f79535-47bb-0310-9956-ffa450edef68
---
 src/java/org/apache/ivy/core/publish/PublishEngine.java | 5 +----
 1 file changed, 1 insertion(+), 4 deletions(-)

diff --git a/src/java/org/apache/ivy/core/publish/PublishEngine.java b/src/java/org/apache/ivy/core/publish/PublishEngine.java
index 336ce1d5b..7412bd4c7 100644
--- a/src/java/org/apache/ivy/core/publish/PublishEngine.java
+++ b/src/java/org/apache/ivy/core/publish/PublishEngine.java
@@ -176,10 +176,7 @@ public Collection publish(ModuleDescriptor md, Collection srcArtifactPattern,
             DependencyResolver resolver, PublishOptions options) throws IOException {
         Collection missing = new ArrayList();
         Set artifactsSet = new LinkedHashSet();
-        String[] confs = options.getConfs();
-        if (confs == null || (confs.length == 1 && "*".equals(confs[0]))) {
-            confs = md.getConfigurationsNames();
-        }
+        String[] confs = ConfigurationUtils.replaceWildcards(options.getConfs(), md);
 
         for (int i = 0; i < confs.length; i++) {
             Artifact[] artifacts = md.getArtifacts(confs[i]);
