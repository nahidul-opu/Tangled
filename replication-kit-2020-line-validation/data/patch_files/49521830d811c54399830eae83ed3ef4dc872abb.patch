From 49521830d811c54399830eae83ed3ef4dc872abb Mon Sep 17 00:00:00 2001
From: William Colen <colen@apache.org>
Date: Wed, 11 Jul 2012 15:41:32 +0000
Subject: [PATCH] OPENNLP-520: a bug was causing tools that relies on factories
 to validate its artifacts not to validate it if the factory was not
 explicitly specified.

git-svn-id: https://svn.apache.org/repos/asf/opennlp/trunk@1360236 13f79535-47bb-0310-9956-ffa450edef68
---
 .../src/main/java/opennlp/tools/util/model/BaseModel.java    | 5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

diff --git a/opennlp-tools/src/main/java/opennlp/tools/util/model/BaseModel.java b/opennlp-tools/src/main/java/opennlp/tools/util/model/BaseModel.java
index 3d02de897..b54ad8395 100644
--- a/opennlp-tools/src/main/java/opennlp/tools/util/model/BaseModel.java
+++ b/opennlp-tools/src/main/java/opennlp/tools/util/model/BaseModel.java
@@ -408,7 +408,10 @@ protected void validateArtifactMap() throws InvalidFormatException {
             "The model could not load an user extension because it is missing on the classpath: "
                 + factoryName);
       }
-      
+    }
+    
+    // validate artifacts declared by the factory
+    if(toolFactory != null) {
       toolFactory.validateArtifactMap();
     }
   }
