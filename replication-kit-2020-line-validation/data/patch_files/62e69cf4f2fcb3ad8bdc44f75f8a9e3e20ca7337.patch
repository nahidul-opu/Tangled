From 62e69cf4f2fcb3ad8bdc44f75f8a9e3e20ca7337 Mon Sep 17 00:00:00 2001
From: Sebastian Bazley <sebb@apache.org>
Date: Mon, 24 Jun 2013 19:16:42 +0000
Subject: [PATCH] Add tests for COLLECTIONS-474 - with null values and with
 non-null values

git-svn-id: https://svn.apache.org/repos/asf/commons/proper/collections/trunk@1496168 13f79535-47bb-0310-9956-ffa450edef68
---
 .../collections4/map/ListOrderedMapTest.java  | 28 +++++++++++++++++++
 1 file changed, 28 insertions(+)

diff --git a/src/test/java/org/apache/commons/collections4/map/ListOrderedMapTest.java b/src/test/java/org/apache/commons/collections4/map/ListOrderedMapTest.java
index 2c17ce4178..e17ade290d 100644
--- a/src/test/java/org/apache/commons/collections4/map/ListOrderedMapTest.java
+++ b/src/test/java/org/apache/commons/collections4/map/ListOrderedMapTest.java
@@ -385,6 +385,34 @@ public void testValueList_removeByIndex() {
         }
     }
 
+    public void testCOLLECTIONS_474_nullValues () {
+        Object key1 = new Object();
+        Object key2 = new Object();
+        HashMap<Object, Object> hmap = new HashMap<Object, Object>();
+        hmap.put(key1, null);
+        hmap.put(key2, null);
+        assertEquals("Should have two elements", 2, hmap.size());
+        ListOrderedMap<Object, Object> listMap = new ListOrderedMap<Object, Object>();
+        listMap.put(key1, null);
+        listMap.put(key2, null);
+        assertEquals("Should have two elements", 2, listMap.size());
+        listMap.putAll(2, hmap);
+    }
+
+    public void testCOLLECTIONS_474_nonNullValues () {
+        Object key1 = new Object();
+        Object key2 = new Object();
+        HashMap<Object, Object> hmap = new HashMap<Object, Object>();
+        hmap.put(key1, "1");
+        hmap.put(key2, "2");
+        assertEquals("Should have two elements", 2, hmap.size());
+        ListOrderedMap<Object, Object> listMap = new ListOrderedMap<Object, Object>();
+        listMap.put(key1, "3");
+        listMap.put(key2, "4");
+        assertEquals("Should have two elements", 2, listMap.size());
+        listMap.putAll(2, hmap);
+    }
+
     //-----------------------------------------------------------------------
     public BulkTest bulkTestKeyListView() {
         return new TestKeyListView();
