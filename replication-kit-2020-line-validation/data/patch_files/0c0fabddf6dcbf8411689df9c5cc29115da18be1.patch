From 0c0fabddf6dcbf8411689df9c5cc29115da18be1 Mon Sep 17 00:00:00 2001
From: Ate Douma <ate@apache.org>
Date: Sun, 7 Sep 2014 19:50:05 +0000
Subject: [PATCH] SCXML-206: Ensure named events are never matched to
 event-less transitions

git-svn-id: https://svn.apache.org/repos/asf/commons/proper/scxml/trunk@1623148 13f79535-47bb-0310-9956-ffa450edef68
---
 .../apache/commons/scxml2/semantics/SCXMLSemanticsImpl.java    | 3 +++
 1 file changed, 3 insertions(+)

diff --git a/src/main/java/org/apache/commons/scxml2/semantics/SCXMLSemanticsImpl.java b/src/main/java/org/apache/commons/scxml2/semantics/SCXMLSemanticsImpl.java
index 322175ca8..5700157af 100644
--- a/src/main/java/org/apache/commons/scxml2/semantics/SCXMLSemanticsImpl.java
+++ b/src/main/java/org/apache/commons/scxml2/semantics/SCXMLSemanticsImpl.java
@@ -681,6 +681,9 @@ public boolean matchTransition(final SCXMLExecutionContext exctx, final Transiti
                     return false;
                 }
             }
+            else if (!transition.isAllEventsTransition()) {
+                return false;
+            }
         }
         else if (!transition.isNoEventsTransition()) {
             return false;
