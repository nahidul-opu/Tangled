From 379524e5af8675671bed871ec69fa688e261f870 Mon Sep 17 00:00:00 2001
From: Sebastian Bazley <sebb@apache.org>
Date: Fri, 3 Feb 2012 00:25:20 +0000
Subject: [PATCH] NET-291 enterLocalPassiveMode is set back to Active on
 connect Correctly override super-class

git-svn-id: https://svn.apache.org/repos/asf/commons/proper/net/trunk@1239952 13f79535-47bb-0310-9956-ffa450edef68
---
 .../org/apache/commons/net/ftp/FTPHTTPClient.java   | 13 +++++++++++++
 1 file changed, 13 insertions(+)

diff --git a/src/main/java/org/apache/commons/net/ftp/FTPHTTPClient.java b/src/main/java/org/apache/commons/net/ftp/FTPHTTPClient.java
index 5daf5a9ca..525515061 100644
--- a/src/main/java/org/apache/commons/net/ftp/FTPHTTPClient.java
+++ b/src/main/java/org/apache/commons/net/ftp/FTPHTTPClient.java
@@ -62,8 +62,21 @@ public FTPHTTPClient(String proxyHost, int proxyPort) {
      *
      * @throws IllegalStateException if connection mode is not passive
      */
+    // Kept to maintain binary compatibility
+    // Not strictly necessary, but Clirr complains even though there is a super-impl
     @Override
     protected Socket _openDataConnection_(int command, String arg) 
+    throws IOException {
+        return super._openDataConnection_(command, arg);
+    }
+
+    /**
+     * {@inheritDoc}
+     *
+     * @throws IllegalStateException if connection mode is not passive
+     */
+    @Override
+    protected Socket _openDataConnection_(String command, String arg) 
     throws IOException {
         //Force local passive mode, active mode not supported by through proxy
         if (getDataConnectionMode() != PASSIVE_LOCAL_DATA_CONNECTION_MODE) {
