From e2984395d296213a96bc03a618c072648570f04a Mon Sep 17 00:00:00 2001
From: Maarten Coene <maartenc@apache.org>
Date: Tue, 28 Oct 2008 20:32:51 +0000
Subject: [PATCH] FIX: inline resolve ignores the transitive attribute
 (IVY-958)

git-svn-id: https://svn.apache.org/repos/asf/ant/ivy/core/branches/2.0.0-rc2@708664 13f79535-47bb-0310-9956-ffa450edef68
---
 CHANGES.txt                                         | 1 +
 HEADER.html                                         | 1 +
 doc/release-notes.html                              | 1 +
 src/java/org/apache/ivy/ant/IvyPostResolveTask.java | 1 +
 4 files changed, 4 insertions(+)
 create mode 100644 HEADER.html

diff --git a/CHANGES.txt b/CHANGES.txt
index f0cc26b69..83bc0211a 100644
--- a/CHANGES.txt
+++ b/CHANGES.txt
@@ -118,6 +118,7 @@ for detailed view of each issue, please consult http://issues.apache.org/jira/br
 - FIX: Maven pom license has name as optional element (IVY-949)
 - FIX: Ivy doesn't throw an error when the parent POM cannot be loaded (IVY-931)
 - FIX: Maven pom parser is not handling pom property ${project.parent.version} (IVY-955)
+- FIX: inline resolve ignores the transitive attribute (IVY-958)
 
    2.0.0-rc1
 =====================================
diff --git a/HEADER.html b/HEADER.html
new file mode 100644
index 000000000..268265fd3
--- /dev/null
+++ b/HEADER.html
@@ -0,0 +1 @@
+<h2>WARNING: files available here are NOT an Apache approved release yet.</h2>
\ No newline at end of file
diff --git a/doc/release-notes.html b/doc/release-notes.html
index 643fef3ec..43af98cbc 100644
--- a/doc/release-notes.html
+++ b/doc/release-notes.html
@@ -222,6 +222,7 @@ <h3>8. List of Changes in this Release</h3>
 - FIX: Maven pom license has name as optional element (IVY-949)
 - FIX: Ivy doesn't throw an error when the parent POM cannot be loaded (IVY-931)
 - FIX: Maven pom parser is not handling pom property ${project.parent.version} (IVY-955)
+- FIX: inline resolve ignores the transitive attribute (IVY-958)
 
 - DOCUMENTATION: Filesystem resolver: talks about "patterns" but does not mention these must become absolute file paths (IVY-910)
 </textarea>
diff --git a/src/java/org/apache/ivy/ant/IvyPostResolveTask.java b/src/java/org/apache/ivy/ant/IvyPostResolveTask.java
index 53a04c4a0..30d1ec019 100644
--- a/src/java/org/apache/ivy/ant/IvyPostResolveTask.java
+++ b/src/java/org/apache/ivy/ant/IvyPostResolveTask.java
@@ -133,6 +133,7 @@ protected void prepareAndCheck() {
                 resolve.setInline(true);
                 resolve.setConf(conf);
                 resolve.setResolveId(resolveId);
+                resolve.setTransitive(isTransitive());
                 resolve.execute();
             } else {
                 Message.verbose("inline resolve already done for " + getOrganisation() + " "
