From b922c60a5348dc1298abc783aecaea05c726fccb Mon Sep 17 00:00:00 2001
From: Xavier Hanin <xavier@apache.org>
Date: Sun, 10 Sep 2006 14:25:43 +0000
Subject: [PATCH] FIX: NullPointerException in IvyArtifactReport (IVY-291)
 (thanks to Alban Peignier)

git-svn-id: https://svn.apache.org/repos/asf/incubator/ivy/trunk@484511 13f79535-47bb-0310-9956-ffa450edef68
---
 src/java/fr/jayasoft/ivy/ant/IvyArtifactReport.java | 3 +++
 1 file changed, 3 insertions(+)

diff --git a/src/java/fr/jayasoft/ivy/ant/IvyArtifactReport.java b/src/java/fr/jayasoft/ivy/ant/IvyArtifactReport.java
index dd61904da..48f2145d2 100644
--- a/src/java/fr/jayasoft/ivy/ant/IvyArtifactReport.java
+++ b/src/java/fr/jayasoft/ivy/ant/IvyArtifactReport.java
@@ -144,6 +144,9 @@ private void generateXml(Ivy ivy, IvyNode[] dependencies, Map moduleRevToArtifac
 
                 for (int i = 0; i < dependencies.length; i++) {
                     IvyNode dependency = dependencies[i];
+                    if (dependency.getModuleRevision() == null || dependency.isCompletelyEvicted()) {
+                    	continue;
+                    }
 
                     startModule(saxHandler, dependency);
 
