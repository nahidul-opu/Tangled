From b8ed51d4a0384c1157ec5ca2fea73d880b9f4a81 Mon Sep 17 00:00:00 2001
From: Phil Steitz <psteitz@apache.org>
Date: Thu, 14 Jul 2011 06:12:42 +0000
Subject: [PATCH] Added casts to prevent integer division.  JIRA: MATH-619

git-svn-id: https://svn.apache.org/repos/asf/commons/proper/math/trunk@1146575 13f79535-47bb-0310-9956-ffa450edef68
---
 .../commons/math/stat/regression/RegressionResults.java     | 6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)

diff --git a/src/main/java/org/apache/commons/math/stat/regression/RegressionResults.java b/src/main/java/org/apache/commons/math/stat/regression/RegressionResults.java
index 026fe2e3fb..5466c0fc71 100644
--- a/src/main/java/org/apache/commons/math/stat/regression/RegressionResults.java
+++ b/src/main/java/org/apache/commons/math/stat/regression/RegressionResults.java
@@ -86,6 +86,7 @@ public RegressionResults(
             this.globalFitInfo[SST_IDX] = containsConstant ?
                     (sumysq - sumy * sumy / ((double) nobs)) : sumysq;
         }
+
         this.globalFitInfo[SSE_IDX] = sse;
         this.globalFitInfo[MSE_IDX] = this.globalFitInfo[SSE_IDX] /
                 ((double) (nobs - rank));
@@ -94,8 +95,9 @@ public RegressionResults(
                 this.globalFitInfo[SST_IDX];
 
         if (!containsConstant) {
-            this.globalFitInfo[ADJRSQ_IDX] = 1.0 - (1.0 - this.globalFitInfo[RSQ_IDX]) *
-                    (nobs / (nobs - rank));
+            this.globalFitInfo[ADJRSQ_IDX] = 1.0 - 
+                    (1.0 - this.globalFitInfo[RSQ_IDX]) *
+                    ( (double) nobs / ( (double) (nobs - rank)));
         } else {
             this.globalFitInfo[ADJRSQ_IDX] = 1.0 - (sse * (nobs - 1.0)) /
                     (globalFitInfo[SST_IDX] * (nobs - rank));
