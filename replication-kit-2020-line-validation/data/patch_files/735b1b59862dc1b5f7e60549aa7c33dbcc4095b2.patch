From 735b1b59862dc1b5f7e60549aa7c33dbcc4095b2 Mon Sep 17 00:00:00 2001
From: koji <koji@apache.org>
Date: Mon, 24 Apr 2017 09:56:08 +0800
Subject: [PATCH] OPENNLP-1039: PerceptronTrainer should call super.isValid()
 in its isValid(). This closes apache/opennlp#177

---
 .../tools/ml/perceptron/PerceptronTrainer.java        | 11 ++++++++++-
 1 file changed, 10 insertions(+), 1 deletion(-)

diff --git a/opennlp-tools/src/main/java/opennlp/tools/ml/perceptron/PerceptronTrainer.java b/opennlp-tools/src/main/java/opennlp/tools/ml/perceptron/PerceptronTrainer.java
index dec6274b6..129c57613 100644
--- a/opennlp-tools/src/main/java/opennlp/tools/ml/perceptron/PerceptronTrainer.java
+++ b/opennlp-tools/src/main/java/opennlp/tools/ml/perceptron/PerceptronTrainer.java
@@ -86,8 +86,17 @@ public PerceptronTrainer(TrainingParameters parameters) {
   }
   
   public boolean isValid() {
+    if (!super.isValid()) {
+      return false;
+    }
+
     String algorithmName = getAlgorithm();
-    return !(algorithmName != null && !(PERCEPTRON_VALUE.equals(algorithmName)));
+    if (algorithmName != null) {
+      return PERCEPTRON_VALUE.equals(algorithmName);
+    }
+    else {
+      return true;
+    }
   }
 
   public boolean isSortAndMerge() {
