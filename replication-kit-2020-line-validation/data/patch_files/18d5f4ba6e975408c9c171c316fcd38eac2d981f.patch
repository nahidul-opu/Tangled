From 18d5f4ba6e975408c9c171c316fcd38eac2d981f Mon Sep 17 00:00:00 2001
From: Sebastian Bazley <sebb@apache.org>
Date: Thu, 5 Nov 2015 00:48:29 +0000
Subject: [PATCH] VALIDATOR-361 UrlValidator rejects new gTLDs with more than 4
 characters

git-svn-id: https://svn.apache.org/repos/asf/commons/proper/validator/trunk@1712701 13f79535-47bb-0310-9956-ffa450edef68
---
 src/changes/changes.xml                                      | 4 ++++
 .../apache/commons/validator/routines/UrlValidatorTest.java  | 5 +++++
 2 files changed, 9 insertions(+)

diff --git a/src/changes/changes.xml b/src/changes/changes.xml
index 741fc969b..5f9a8cfdb 100644
--- a/src/changes/changes.xml
+++ b/src/changes/changes.xml
@@ -43,6 +43,10 @@ The <action> type attribute can be add,update,fix,remove.
   <body>
 
   <release version="1.5.0" date="tba" description="tba">
+    <action issue="VALIDATOR-361" type="add" dev="sebb">
+    UrlValidator rejects new gTLDs with more than 4 characters
+    Added unit test to show that this has been fixed
+    </action>
     <action issue="VALIDATOR-341" type="add" dev="sebb">
     Make TLD list configurable;
     both generic and country-code now support addition and removal
diff --git a/src/test/java/org/apache/commons/validator/routines/UrlValidatorTest.java b/src/test/java/org/apache/commons/validator/routines/UrlValidatorTest.java
index 19882b32c..186888769 100644
--- a/src/test/java/org/apache/commons/validator/routines/UrlValidatorTest.java
+++ b/src/test/java/org/apache/commons/validator/routines/UrlValidatorTest.java
@@ -409,6 +409,11 @@ public void testValidator290() {
 //        assertTrue(validator.isValid("http://test.xn--hlcj6aya9esc7a")); // Tamil
     }
 
+   public void testValidator361() {
+       UrlValidator validator = new UrlValidator();
+       assertTrue(validator.isValid("http://hello.tokyo/"));
+    }
+
    
    /**
     * Only used to debug the unit tests.
