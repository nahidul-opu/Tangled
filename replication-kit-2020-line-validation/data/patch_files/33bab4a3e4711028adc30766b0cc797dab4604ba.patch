From 33bab4a3e4711028adc30766b0cc797dab4604ba Mon Sep 17 00:00:00 2001
From: JC <jc@lifove.net>
Date: Sat, 28 Jan 2017 01:44:00 -0500
Subject: [PATCH] GORA-499 Fix for a potential NPE

---
 .../java/org/apache/gora/cassandra/store/CassandraClient.java | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

diff --git a/gora-cassandra/src/main/java/org/apache/gora/cassandra/store/CassandraClient.java b/gora-cassandra/src/main/java/org/apache/gora/cassandra/store/CassandraClient.java
index 46f86a64a..1f9d61422 100644
--- a/gora-cassandra/src/main/java/org/apache/gora/cassandra/store/CassandraClient.java
+++ b/gora-cassandra/src/main/java/org/apache/gora/cassandra/store/CassandraClient.java
@@ -208,10 +208,10 @@ public void checkKeyspace() {
       ccl.setReadCfConsistencyLevels(clmap);
       ccl.setWriteCfConsistencyLevels(clmap);
       // Operations consistency levels
-      String opConsisLvl = (readOpConsLvl!=null || !readOpConsLvl.isEmpty())?readOpConsLvl:DEFAULT_HECTOR_CONSIS_LEVEL;
+      String opConsisLvl = (readOpConsLvl!=null && !readOpConsLvl.isEmpty())?readOpConsLvl:DEFAULT_HECTOR_CONSIS_LEVEL;
       ccl.setDefaultReadConsistencyLevel(HConsistencyLevel.valueOf(opConsisLvl));
       LOG.debug("Hector read consistency configured to '" + opConsisLvl + "'.");
-      opConsisLvl = (writeOpConsLvl!=null || !writeOpConsLvl.isEmpty())?writeOpConsLvl:DEFAULT_HECTOR_CONSIS_LEVEL;
+      opConsisLvl = (writeOpConsLvl!=null && !writeOpConsLvl.isEmpty())?writeOpConsLvl:DEFAULT_HECTOR_CONSIS_LEVEL;
       ccl.setDefaultWriteConsistencyLevel(HConsistencyLevel.valueOf(opConsisLvl));
       LOG.debug("Hector write consistency configured to '" + opConsisLvl + "'.");
 
