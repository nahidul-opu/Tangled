From 6c05902ba16de1e70dbf80da702492aeb32b5317 Mon Sep 17 00:00:00 2001
From: Maja Kabiljo <majakabiljo@maja-mbp.thefacebook.com>
Date: Fri, 3 May 2013 10:17:48 -0700
Subject: [PATCH] GIRAPH-650: Exception in GiraphConfiguration initialization
 (majakabiljo)

---
 CHANGELOG                                                     | 2 ++
 .../main/java/org/apache/giraph/conf/GiraphConfiguration.java | 4 ++--
 2 files changed, 4 insertions(+), 2 deletions(-)

diff --git a/CHANGELOG b/CHANGELOG
index db78bb1df..765c2343a 100644
--- a/CHANGELOG
+++ b/CHANGELOG
@@ -1,6 +1,8 @@
 Giraph Change Log
 
 Release 1.0.1 - unreleased
+  GIRAPH-650: Exception in GiraphConfiguration initialization (majakabiljo)
+
   GIRAPH-648: Allow IO formats to add parameters to Configuration (majakabiljo)
 
   GIRAPH-635: Website Documentation: Missing presentations (ssc)
diff --git a/giraph-core/src/main/java/org/apache/giraph/conf/GiraphConfiguration.java b/giraph-core/src/main/java/org/apache/giraph/conf/GiraphConfiguration.java
index 795cd0c56..deb2069ac 100644
--- a/giraph-core/src/main/java/org/apache/giraph/conf/GiraphConfiguration.java
+++ b/giraph-core/src/main/java/org/apache/giraph/conf/GiraphConfiguration.java
@@ -60,8 +60,8 @@ public class GiraphConfiguration extends Configuration
    * Constructor that creates the configuration
    */
   public GiraphConfiguration() {
-    configureHadoopSecurity();
     giraphSetParameters = new Configuration(false);
+    configureHadoopSecurity();
   }
 
   /**
@@ -71,8 +71,8 @@ public GiraphConfiguration() {
    */
   public GiraphConfiguration(Configuration conf) {
     super(conf);
-    configureHadoopSecurity();
     giraphSetParameters = new Configuration(false);
+    configureHadoopSecurity();
   }
 
   /**
