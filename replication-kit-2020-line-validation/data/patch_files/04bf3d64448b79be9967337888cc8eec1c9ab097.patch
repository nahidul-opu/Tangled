From 04bf3d64448b79be9967337888cc8eec1c9ab097 Mon Sep 17 00:00:00 2001
From: Nitay Joffe <nitay@apache.org>
Date: Tue, 7 May 2013 15:33:11 -0400
Subject: [PATCH] GIRAPH-663: Fix HiveIO metastore host setting

---
 CHANGELOG                                                       | 2 ++
 .../java/org/apache/giraph/hive/common/HiveInputOptions.java    | 2 +-
 2 files changed, 3 insertions(+), 1 deletion(-)

diff --git a/CHANGELOG b/CHANGELOG
index 17e28dacc..c62c3dc8e 100644
--- a/CHANGELOG
+++ b/CHANGELOG
@@ -3,6 +3,8 @@ Giraph Change Log
 Release 1.1.0 - unreleased
   GIRAPH-659: giraph-hive tests all fail (majakabiljo)
 
+  GIRAPH-663: Fix HiveIO metastore host setting (nitay)
+
   GIRAPH-661: Munge symbols helper (nitay)
 
   GIRAPH-662: Incubator release should point to archived (aching)
diff --git a/giraph-hive/src/main/java/org/apache/giraph/hive/common/HiveInputOptions.java b/giraph-hive/src/main/java/org/apache/giraph/hive/common/HiveInputOptions.java
index 6a89614c0..17395aa3c 100644
--- a/giraph-hive/src/main/java/org/apache/giraph/hive/common/HiveInputOptions.java
+++ b/giraph-hive/src/main/java/org/apache/giraph/hive/common/HiveInputOptions.java
@@ -61,7 +61,7 @@ public HiveInputOptions(String name, Class<C> hiveToTypeClass) {
     splitsOpt = new IntConfOption(key(name, "splits"), 0);
     databaseOpt = new StrConfOption(key(name, "database"), "default");
     tableOpt = new StrConfOption(key(name, "table"), "");
-    hostOpt = new StrConfOption(key(name, "metastore.host"), "");
+    hostOpt = new StrConfOption(key(name, "metastore.host"), null);
     portOpt = new IntConfOption(key(name, "metastore.port"), 9083);
   }
 
