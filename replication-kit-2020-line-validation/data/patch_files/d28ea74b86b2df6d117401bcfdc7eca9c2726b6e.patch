From d28ea74b86b2df6d117401bcfdc7eca9c2726b6e Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?J=C3=B6rn=20Kottmann?= <joern@apache.org>
Date: Mon, 16 Sep 2013 15:20:18 +0000
Subject: [PATCH] OPENNLP-594 Fixed a bug when the last child from a parse was
 removed. Thanks to Ioan Barbulescu for providing a patch.

git-svn-id: https://svn.apache.org/repos/asf/opennlp/trunk@1523700 13f79535-47bb-0310-9956-ffa450edef68
---
 opennlp-tools/src/main/java/opennlp/tools/parser/Parse.java | 6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)

diff --git a/opennlp-tools/src/main/java/opennlp/tools/parser/Parse.java b/opennlp-tools/src/main/java/opennlp/tools/parser/Parse.java
index 36aec061d..193155a1f 100644
--- a/opennlp-tools/src/main/java/opennlp/tools/parser/Parse.java
+++ b/opennlp-tools/src/main/java/opennlp/tools/parser/Parse.java
@@ -518,8 +518,10 @@ public void add(Parse daughter, HeadRules rules) {
 
   public void remove(int index) {
     parts.remove(index);
-    if (index == 0 || index == parts.size()) { //size is orig last element
-      span = new Span((parts.get(0)).span.getStart(),(parts.get(parts.size()-1)).span.getEnd());
+    if(! parts.isEmpty()) {
+        if (index == 0 || index == parts.size()) { //size is orig last element
+            span = new Span((parts.get(0)).span.getStart(),(parts.get(parts.size()-1)).span.getEnd());
+          }
     }
   }
 
