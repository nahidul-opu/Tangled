From 52d8d739a6ba7e623ba72855597fc0ba5ba77ad3 Mon Sep 17 00:00:00 2001
From: Rory Winston <rwinston@apache.org>
Date: Thu, 21 Feb 2008 23:04:21 +0000
Subject: [PATCH] Fix strict check so it actually works :-) Now the broken
 functional test case provided in NET-148 works.

git-svn-id: https://svn.apache.org/repos/asf/commons/proper/net/branches/NET_2_0@630042 13f79535-47bb-0310-9956-ffa450edef68
---
 src/main/java/org/apache/commons/net/ftp/FTP.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/src/main/java/org/apache/commons/net/ftp/FTP.java b/src/main/java/org/apache/commons/net/ftp/FTP.java
index 4b4e32bc7..7183e9ddb 100644
--- a/src/main/java/org/apache/commons/net/ftp/FTP.java
+++ b/src/main/java/org/apache/commons/net/ftp/FTP.java
@@ -271,7 +271,7 @@ public FTP()
 
     // The RFC-compliant multiline termination check
     private boolean __strictCheck(String line, String code) {
-    	return (line.startsWith(code));
+    	return (!(line.startsWith(code) && line.charAt(3) == ' '));
     }
     
     // The strict check is too strong a condition because of non-conforming ftp
