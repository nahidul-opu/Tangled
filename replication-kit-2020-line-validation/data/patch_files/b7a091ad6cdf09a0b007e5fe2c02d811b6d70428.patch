From b7a091ad6cdf09a0b007e5fe2c02d811b6d70428 Mon Sep 17 00:00:00 2001
From: Maarten Coene <maartenc@apache.org>
Date: Fri, 13 Jun 2008 21:11:22 +0000
Subject: [PATCH] FIX: Wrong check for defaultCacheArtifactPattern (IVY-840)

git-svn-id: https://svn.apache.org/repos/asf/ant/ivy/core/trunk@667654 13f79535-47bb-0310-9956-ffa450edef68
---
 CHANGES.txt                                            | 1 +
 src/java/org/apache/ivy/core/settings/IvySettings.java | 2 +-
 2 files changed, 2 insertions(+), 1 deletion(-)

diff --git a/CHANGES.txt b/CHANGES.txt
index 692fe9c54..c0b9c6f3b 100644
--- a/CHANGES.txt
+++ b/CHANGES.txt
@@ -86,6 +86,7 @@ for detailed view of each issue, please consult http://issues.apache.org/jira/br
 - IMPROVEMENT: Change allownomd and skipbuildwithoutivy into a more semantically correct name (IVY-297)
 - IMPROVEMENT: Smarter determination if an expression is exact or not for RegexpPatternMatcher and GlobPatternMatcher
 
+- FIX: Wrong check for defaultCacheArtifactPattern (IVY-840)
 - FIX: NPE in ivy:install if ivy.settings.xml contains custom attribute for a module (IVY-838)
 - FIX: Ivy unit tests fail because 'classifier' attribute of 'artifacts' element is missing in ivy.xsd (IVY-837)
 - FIX: Ivy build system: fix build.xml to allow "ant coverage-report" behind a proxy (IVY-832)
diff --git a/src/java/org/apache/ivy/core/settings/IvySettings.java b/src/java/org/apache/ivy/core/settings/IvySettings.java
index f00832a88..b37f02fdd 100644
--- a/src/java/org/apache/ivy/core/settings/IvySettings.java
+++ b/src/java/org/apache/ivy/core/settings/IvySettings.java
@@ -1353,7 +1353,7 @@ public String getDefaultCacheIvyPattern() {
     }
 
     public void setDefaultCacheArtifactPattern(String defaultCacheArtifactPattern) {
-        CacheUtil.checkCachePattern(defaultCacheIvyPattern);
+        CacheUtil.checkCachePattern(defaultCacheArtifactPattern);
         this.defaultCacheArtifactPattern = defaultCacheArtifactPattern;
     }
     
