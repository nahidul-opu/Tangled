From 8b35948a8342b859c977032109c2e3b6c2a4bf37 Mon Sep 17 00:00:00 2001
From: Avery Ching <aching@apache.org>
Date: Mon, 16 Jul 2012 18:18:01 +0000
Subject: [PATCH] GIRAPH-257: TestBspBasic.testBspMasterCompute is broken
 (majakabiljo via aching).

git-svn-id: https://svn.apache.org/repos/asf/giraph/trunk@1362174 13f79535-47bb-0310-9956-ffa450edef68
---
 CHANGELOG                                                      | 3 +++
 .../org/apache/giraph/examples/SimpleMasterComputeVertex.java  | 3 +--
 2 files changed, 4 insertions(+), 2 deletions(-)

diff --git a/CHANGELOG b/CHANGELOG
index b5283ee48..373403f9e 100644
--- a/CHANGELOG
+++ b/CHANGELOG
@@ -2,6 +2,9 @@ Giraph Change Log
 
 Release 0.2.0 - unreleased
 
+  GIRAPH-257: TestBspBasic.testBspMasterCompute is broken (majakabiljo
+  via aching).
+
   GIRAPH-81: Create annotations on provided algorithms for cli
   (majakabiljo via aching).
 
diff --git a/src/main/java/org/apache/giraph/examples/SimpleMasterComputeVertex.java b/src/main/java/org/apache/giraph/examples/SimpleMasterComputeVertex.java
index 8ada82a76..2a1189b61 100644
--- a/src/main/java/org/apache/giraph/examples/SimpleMasterComputeVertex.java
+++ b/src/main/java/org/apache/giraph/examples/SimpleMasterComputeVertex.java
@@ -19,7 +19,6 @@
 package org.apache.giraph.examples;
 
 import org.apache.giraph.aggregators.DoubleOverwriteAggregator;
-import org.apache.giraph.aggregators.IntOverwriteAggregator;
 import org.apache.giraph.graph.LongDoubleFloatDoubleVertex;
 import org.apache.giraph.graph.MasterCompute;
 import org.apache.giraph.graph.WorkerContext;
@@ -67,7 +66,7 @@ public static class SimpleMasterComputeWorkerContext
     @Override
     public void preApplication()
       throws InstantiationException, IllegalAccessException {
-      registerAggregator(SMC_AGG, IntOverwriteAggregator.class);
+      registerAggregator(SMC_AGG, DoubleOverwriteAggregator.class);
     }
 
     @Override
