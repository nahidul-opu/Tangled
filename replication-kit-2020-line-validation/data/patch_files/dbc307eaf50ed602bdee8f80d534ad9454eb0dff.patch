From dbc307eaf50ed602bdee8f80d534ad9454eb0dff Mon Sep 17 00:00:00 2001
From: tandraschko <tandraschko@apache.org>
Date: Sat, 13 Sep 2014 12:54:09 +0200
Subject: [PATCH] DELTASPIKE-710 Fixed f/p:ajax with CLIENTWINDOW and Mojarra

---
 .../resources/META-INF/resources/deltaspike/windowhandler.js    | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/deltaspike/modules/jsf/impl/src/main/resources/META-INF/resources/deltaspike/windowhandler.js b/deltaspike/modules/jsf/impl/src/main/resources/META-INF/resources/deltaspike/windowhandler.js
index d96d670ff..dccf4d7dd 100644
--- a/deltaspike/modules/jsf/impl/src/main/resources/META-INF/resources/deltaspike/windowhandler.js
+++ b/deltaspike/modules/jsf/impl/src/main/resources/META-INF/resources/deltaspike/windowhandler.js
@@ -90,7 +90,7 @@ function applyWindowId() {
                             //ie handling added
                             evt = evt || window.event;
 
-                            return storeWindowTree() && oldonclick(evt);
+                            return storeWindowTree() && oldonclick.bind(this)(evt);
                         };
                     })();
                 }
