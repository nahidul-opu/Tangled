From f418eed3089d74caa11affaf947a40b774e9c8cb Mon Sep 17 00:00:00 2001
From: Jim Regan <joregan@gmail.com>
Date: Mon, 29 May 2017 10:05:04 -0300
Subject: [PATCH] OPENNLP-1078: Fix NPE in irishsentencebank reader

closes apache/opennlp#219
---
 .../formats/irishsentencebank/IrishSentenceBankDocument.java  | 4 ++++
 1 file changed, 4 insertions(+)

diff --git a/opennlp-tools/src/main/java/opennlp/tools/formats/irishsentencebank/IrishSentenceBankDocument.java b/opennlp-tools/src/main/java/opennlp/tools/formats/irishsentencebank/IrishSentenceBankDocument.java
index 91ab65078..2fe9231e7 100644
--- a/opennlp-tools/src/main/java/opennlp/tools/formats/irishsentencebank/IrishSentenceBankDocument.java
+++ b/opennlp-tools/src/main/java/opennlp/tools/formats/irishsentencebank/IrishSentenceBankDocument.java
@@ -242,6 +242,10 @@ public static IrishSentenceBankDocument parse(InputStream is) throws IOException
           IrishSentenceBankFlex[] flexa = new IrishSentenceBankFlex[flexes];
           for (Integer flexidx : toks.keySet()) {
             String left = toks.get(flexidx);
+            if (flx.get(flexidx) == null) {
+              flexa = null;
+              break;
+            }
             int rsize = flx.get(flexidx).size();
             String[] right = new String[rsize];
             right = flx.get(flexidx).toArray(right);
