From 8af923c22d837f34834fd50d0b05eba8ed0d1a54 Mon Sep 17 00:00:00 2001
From: Maarten Coene <maartenc@apache.org>
Date: Wed, 29 Jul 2009 22:15:14 +0000
Subject: [PATCH] FIX: URLResource does not properly support authentication
 (IVY-1106) (thanks to Heschi Kreinick)

git-svn-id: https://svn.apache.org/repos/asf/ant/ivy/core/trunk@799097 13f79535-47bb-0310-9956-ffa450edef68
---
 CHANGES.txt                                                  | 5 +++++
 .../org/apache/ivy/plugins/repository/url/URLResource.java   | 2 +-
 2 files changed, 6 insertions(+), 1 deletion(-)

diff --git a/CHANGES.txt b/CHANGES.txt
index c4f820f36..784d46f18 100644
--- a/CHANGES.txt
+++ b/CHANGES.txt
@@ -47,6 +47,7 @@ for detailed view of each issue, please consult http://issues.apache.org/jira/br
 	Matthias Kilian
 	Alexey Kiselev
 	Gregory Kisling
+	Heschi Kreinick
 	Tat Leung
 	Costin Leau
 	Antoine Levy-Lambert
@@ -90,6 +91,10 @@ for detailed view of each issue, please consult http://issues.apache.org/jira/br
 	
    trunk
 =====================================
+- FIX: URLResource does not properly support authentication (IVY-1106) (thanks to Heschi Kreinick)
+
+   2.1.0-rc2
+=====================================
 - DOCUMENTATION: not all attributes of publish task are documented (IVY-963) (thanks to Jon Schneider)
 - DOCUMENTATION: missing documentation for the 'Version Pattern Matcher' (IVY-871) (thanks to Jon Schneider)
 - DOCUMENTATION: added missing documentation for the 'keep' attribute on the (post)resolve Ant tasks (IVY-1091)
diff --git a/src/java/org/apache/ivy/plugins/repository/url/URLResource.java b/src/java/org/apache/ivy/plugins/repository/url/URLResource.java
index a9556b2bd..365254d08 100644
--- a/src/java/org/apache/ivy/plugins/repository/url/URLResource.java
+++ b/src/java/org/apache/ivy/plugins/repository/url/URLResource.java
@@ -96,6 +96,6 @@ public boolean isLocal() {
     }
 
     public InputStream openStream() throws IOException {
-        return url.openStream();
+        return URLHandlerRegistry.getDefault().openStream(url);
     }
 }
