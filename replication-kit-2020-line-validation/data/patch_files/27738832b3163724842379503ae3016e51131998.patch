From 27738832b3163724842379503ae3016e51131998 Mon Sep 17 00:00:00 2001
From: Sebastian Bazley <sebb@apache.org>
Date: Tue, 28 Sep 2010 14:39:19 +0000
Subject: [PATCH] IO-216 - Document that lock file deletion failure is not
 reported

git-svn-id: https://svn.apache.org/repos/asf/commons/proper/io/trunk@1002182 13f79535-47bb-0310-9956-ffa450edef68
---
 .../org/apache/commons/io/output/LockableFileWriter.java  | 8 +++++++-
 1 file changed, 7 insertions(+), 1 deletion(-)

diff --git a/src/java/org/apache/commons/io/output/LockableFileWriter.java b/src/java/org/apache/commons/io/output/LockableFileWriter.java
index 6101800c238..1a55d528721 100644
--- a/src/java/org/apache/commons/io/output/LockableFileWriter.java
+++ b/src/java/org/apache/commons/io/output/LockableFileWriter.java
@@ -34,6 +34,12 @@
  * This class provides a simple alternative to <code>FileWriter</code>
  * that will use a lock file to prevent duplicate writes.
  * <p>
+ * <b>N.B.</b> the lock file is deleted when {@link #close()} is called
+ * - or if the main file cannot be opened initially.
+ * In the (unlikely) event that the lockfile cannot be deleted, 
+ * this is not reported, and subsequent requests using
+ * the same lockfile will fail.
+ * <p>
  * By default, the file will be overwritten, but this may be changed to append.
  * The lock directory may be specified, but defaults to the system property
  * <code>java.io.tmpdir</code>.
@@ -260,7 +266,7 @@ private Writer initWriter(File file, String encoding, boolean append) throws IOE
 
     //-----------------------------------------------------------------------
     /**
-     * Closes the file writer.
+     * Closes the file writer and deletes the lockfile (if possible).
      *
      * @throws IOException if an I/O error occurs
      */
