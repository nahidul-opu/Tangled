From 421db380d060e9f037a8ecbc446c414efaa6923f Mon Sep 17 00:00:00 2001
From: Henri Yandell <bayard@apache.org>
Date: Sun, 19 Jul 2015 01:25:10 -0700
Subject: [PATCH] Switched capitalize back to using toTitleCase. Added a test
 for this using the 'Lj' letter. LANG-1142

---
 src/main/java/org/apache/commons/lang3/StringUtils.java     | 2 +-
 src/test/java/org/apache/commons/lang3/StringUtilsTest.java | 3 +++
 2 files changed, 4 insertions(+), 1 deletion(-)

diff --git a/src/main/java/org/apache/commons/lang3/StringUtils.java b/src/main/java/org/apache/commons/lang3/StringUtils.java
index 968093a113c..a0f83a15983 100644
--- a/src/main/java/org/apache/commons/lang3/StringUtils.java
+++ b/src/main/java/org/apache/commons/lang3/StringUtils.java
@@ -5765,7 +5765,7 @@ public static String capitalize(final String str) {
         }
 
         final char firstChar = str.charAt(0);
-        final char newChar = Character.toUpperCase(firstChar);
+        final char newChar = Character.toTitleCase(firstChar);
         if (firstChar == newChar) {
             // already capitalized
             return str;
diff --git a/src/test/java/org/apache/commons/lang3/StringUtilsTest.java b/src/test/java/org/apache/commons/lang3/StringUtilsTest.java
index 49c95722c4f..5cc665a1523 100644
--- a/src/test/java/org/apache/commons/lang3/StringUtilsTest.java
+++ b/src/test/java/org/apache/commons/lang3/StringUtilsTest.java
@@ -250,6 +250,9 @@ public void testCapitalize() {
         assertEquals("capitalize(string) failed",
                 FOO_CAP, StringUtils.capitalize(FOO_UNCAP));
 
+        assertEquals("capitalize(String) is not using TitleCase",
+                "\u01C8", StringUtils.capitalize("\u01C9"));
+
         // Javadoc examples
         assertNull(StringUtils.capitalize(null));
         assertEquals("", StringUtils.capitalize(""));
