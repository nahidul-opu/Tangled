From 3a7c1a0ec0ef23e318e465fc5cafeebf544f10be Mon Sep 17 00:00:00 2001
From: Sebastian Bazley <sebb@apache.org>
Date: Sat, 11 Mar 2017 12:55:16 +0000
Subject: [PATCH] NET-624 SubnetInfo#getCidrSignature - improve functions

git-svn-id: https://svn.apache.org/repos/asf/commons/proper/net/trunk@1786507 13f79535-47bb-0310-9956-ffa450edef68
---
 src/changes/changes.xml                                    | 7 +++++--
 src/main/java/org/apache/commons/net/util/SubnetUtils.java | 5 +----
 2 files changed, 6 insertions(+), 6 deletions(-)

diff --git a/src/changes/changes.xml b/src/changes/changes.xml
index 27d107104..aeb290ac9 100644
--- a/src/changes/changes.xml
+++ b/src/changes/changes.xml
@@ -71,16 +71,19 @@ This is mainly a bug-fix release. See further details below.
  However it is not source compatible with releases before 3.4, as some methods were added to the interface NtpV3Packet in 3.4
         
 ">
+            <action issue="NET-624" type="update" dev="sebb" due-to="Makoto Sakaguchi">
+            SubnetInfo#getCidrSignature - improve functions
+            </action>
             <action issue="NET-624" type="fix" dev="sebb" due-to="Makoto Sakaguchi">
             SubnetInfo#toCidrNotation: A wrong format subnet mask is allowed
             </action>
             <action issue="NET-623" type="fix" dev="sebb" due-to="Makoto Sakaguchi">
             SubnetUtils - fixed spelling errors
             </action>
-            <action issue="NET-621" type="fix" dev="sebb" due-to="Makoto Sakaguchi">
+            <action issue="NET-621" type="update" dev="sebb" due-to="Makoto Sakaguchi">
             SubnetUtils#SubnetInfo - remove unnecessary accessors
             </action>
-            <action issue="NET-619" type="fix" dev="sebb" due-to="Makoto Sakaguchi">
+            <action issue="NET-619" type="update" dev="sebb" due-to="Makoto Sakaguchi">
             SubnetUtils - improve binary netmask algorithm
             </action>
             <action issue="NET-613" type="fix" dev="sebb" due-to="Donald Kwakkel">
diff --git a/src/main/java/org/apache/commons/net/util/SubnetUtils.java b/src/main/java/org/apache/commons/net/util/SubnetUtils.java
index c6b4c1ec8..e257c2d72 100644
--- a/src/main/java/org/apache/commons/net/util/SubnetUtils.java
+++ b/src/main/java/org/apache/commons/net/util/SubnetUtils.java
@@ -204,10 +204,7 @@ public int asInteger(String address) {
         }
 
         public String getCidrSignature() {
-            return toCidrNotation(
-                    format(toArray(address)),
-                    format(toArray(netmask))
-            );
+            return format(toArray(address)) + "/" + pop(netmask);
         }
 
         public String[] getAllAddresses() {
