From 22f83d5c47b5230c519d78073f3360f2be94e0a1 Mon Sep 17 00:00:00 2001
From: Colm O Heigeartaigh <coheigea@apache.org>
Date: Mon, 3 Sep 2012 12:26:39 +0000
Subject: [PATCH] [SANTUARIO-342] - NullPointer in
 javax.xml.crypto.KeySelectorException.printStackTrace

git-svn-id: https://svn.apache.org/repos/asf/santuario/xml-security-java/branches/1.5.x-fixes@1380216 13f79535-47bb-0310-9956-ffa450edef68
---
 .../java/javax/xml/crypto/KeySelectorException.java  | 12 +++++++++---
 1 file changed, 9 insertions(+), 3 deletions(-)

diff --git a/src/main/java/javax/xml/crypto/KeySelectorException.java b/src/main/java/javax/xml/crypto/KeySelectorException.java
index 991dfb367f..b0ffb83586 100644
--- a/src/main/java/javax/xml/crypto/KeySelectorException.java
+++ b/src/main/java/javax/xml/crypto/KeySelectorException.java
@@ -117,7 +117,9 @@ public Throwable getCause() {
      */
     public void printStackTrace() {
         super.printStackTrace();
-        cause.printStackTrace();
+        if (cause != null) {
+            cause.printStackTrace();
+        }
     }
 
     /**
@@ -128,7 +130,9 @@ public void printStackTrace() {
      */
     public void printStackTrace(PrintStream s) {
         super.printStackTrace(s);
-        cause.printStackTrace(s);
+        if (cause != null) {
+            cause.printStackTrace(s);
+        }
     }
 
     /**
@@ -139,6 +143,8 @@ public void printStackTrace(PrintStream s) {
      */
     public void printStackTrace(PrintWriter s) {
         super.printStackTrace(s);
-        cause.printStackTrace(s);
+        if (cause != null) {
+            cause.printStackTrace(s);
+        }
     }
 }
