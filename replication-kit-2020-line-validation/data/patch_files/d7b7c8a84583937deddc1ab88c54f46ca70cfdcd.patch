From d7b7c8a84583937deddc1ab88c54f46ca70cfdcd Mon Sep 17 00:00:00 2001
From: Nicolas Lalevee <hibou@apache.org>
Date: Thu, 3 Oct 2013 16:59:02 +0000
Subject: [PATCH] IVY-1441: In IvyDE, Ivy fails to parse ivy-settings.xml file
 if it contains <pgp> element (thanks to Gregory Amerson)

git-svn-id: https://svn.apache.org/repos/asf/ant/ivy/core/trunk@1528936 13f79535-47bb-0310-9956-ffa450edef68
---
 CHANGES.txt          | 1 +
 META-INF/MANIFEST.MF | 8 +++++++-
 2 files changed, 8 insertions(+), 1 deletion(-)

diff --git a/CHANGES.txt b/CHANGES.txt
index e0638f90b..81e69fa91 100644
--- a/CHANGES.txt
+++ b/CHANGES.txt
@@ -151,6 +151,7 @@ for detailed view of each issue, please consult http://issues.apache.org/jira/br
 - IMPROVEMENT: add support for source bundles from p2 repositories
 - IMPROVEMENT: add support for source URI from OBR repositories
 
+- FIX: In IvyDE, Ivy fails to parse ivy-settings.xml file if it contains <pgp> element (thanks to Gregory Amerson) (IVY-1441)
 - FIX: ParseException when "Bundle-Description" is present in OSGI MANIFEST.MF (IVY-1438)
 - FIX: NIO FileLocker released locks too early (IVY-1424) (thanks to Charles Duffy)
 - FIX: Ssh Resolver doesn't work with Java 7 (IVY-1408) (thanks to Mykhailo Delegan)
diff --git a/META-INF/MANIFEST.MF b/META-INF/MANIFEST.MF
index 36c218f33..9f8fc1f66 100644
--- a/META-INF/MANIFEST.MF
+++ b/META-INF/MANIFEST.MF
@@ -7,7 +7,7 @@ Bundle-SymbolicName: org.apache.ivy
 Bundle-Vendor: Apache Software Foundation
 Bundle-DocURL: http://ant.apache.org/ivy/
 Import-Package: com.jcraft.jsch;resolution:=optional,
- javax.crypto,
+ javax.crypto;resolution:=optional,
  javax.swing;resolution:=optional,
  javax.swing.event;resolution:=optional,
  javax.xml.parsers,
@@ -15,6 +15,7 @@ Import-Package: com.jcraft.jsch;resolution:=optional,
  javax.xml.transform.sax,
  javax.xml.transform.stream,
  org.apache.commons.httpclient;resolution:=optional,
+ org.apache.commons.httpclient.auth;resolution:=optional,
  org.apache.commons.httpclient.methods;resolution:=optional,
  org.apache.commons.httpclient.params;resolution:=optional,
  org.apache.commons.httpclient.protocol;resolution:=optional,
@@ -32,8 +33,13 @@ Import-Package: com.jcraft.jsch;resolution:=optional,
  org.apache.tools.ant.filters;resolution:=optional,
  org.apache.tools.ant.taskdefs;resolution:=optional,
  org.apache.tools.ant.types;resolution:=optional,
+ org.apache.tools.ant.types.resources;resolution:=optional,
  org.apache.tools.ant.util;resolution:=optional,
  org.apache.webdav;resolution:=optional,
+ org.bouncycastle.bcpg;resolution:=optional,
+ org.bouncycastle.jce.provider;resolution:=optional,
+ org.bouncycastle.openpgp;resolution:=optional,
+ org.w3c.dom;resolution:=optional,
  org.xml.sax,
  org.xml.sax.ext,
  org.xml.sax.helpers
