From c6e834f726361d99eaa2a5309ac9798f8d6a6e40 Mon Sep 17 00:00:00 2001
From: Oliver Heger <oheger@apache.org>
Date: Wed, 30 Sep 2009 19:58:54 +0000
Subject: [PATCH] [CONFIGURATION-398] Added a unit test for
 DatabaseConfiguration.setProperty() with a list of properties.

git-svn-id: https://svn.apache.org/repos/asf/commons/proper/configuration/branches/configuration2_experimental@820426 13f79535-47bb-0310-9956-ffa450edef68
---
 .../configuration2/TestDatabaseConfiguration.java   | 13 +++++++++++++
 1 file changed, 13 insertions(+)

diff --git a/src/test/java/org/apache/commons/configuration2/TestDatabaseConfiguration.java b/src/test/java/org/apache/commons/configuration2/TestDatabaseConfiguration.java
index 443e6e881b..25213385bf 100644
--- a/src/test/java/org/apache/commons/configuration2/TestDatabaseConfiguration.java
+++ b/src/test/java/org/apache/commons/configuration2/TestDatabaseConfiguration.java
@@ -418,6 +418,19 @@ public void testAddWithDelimiter()
         assertEquals("Wrong value at index 1", "2", values[1]);
     }
 
+    /**
+     * Tests setProperty() if the property value contains the list delimiter.
+     */
+    public void testSetPropertyWithDelimiter()
+    {
+        DatabaseConfiguration config = setUpMultiConfig();
+        config.setListDelimiter(';');
+        config.setProperty("keyList", "1;2;3");
+        String[] values = config.getStringArray("keyList");
+        assertEquals("Wrong number of property values", 3, values.length);
+        assertEquals("Wrong value at index 1", "2", values[1]);
+    }
+
     /**
      * Test instantiating a DatabaseConfiguration from a configuration descriptor.
      */
