From 559e62cf4513bab20c08ec8129bf60b23e423b73 Mon Sep 17 00:00:00 2001
From: Oliver Heger <oheger@apache.org>
Date: Wed, 22 Aug 2007 16:32:17 +0000
Subject: [PATCH] CONFIGURATION-293: Added a test case based on the problem
 description; however the test does not fail.

git-svn-id: https://svn.apache.org/repos/asf/commons/proper/configuration/trunk@568692 13f79535-47bb-0310-9956-ffa450edef68
---
 .../TestHierarchicalConfiguration.java             | 14 ++++++++++++++
 1 file changed, 14 insertions(+)

diff --git a/src/test/org/apache/commons/configuration/TestHierarchicalConfiguration.java b/src/test/org/apache/commons/configuration/TestHierarchicalConfiguration.java
index 3f18e7d7ab..db39f7dacb 100644
--- a/src/test/org/apache/commons/configuration/TestHierarchicalConfiguration.java
+++ b/src/test/org/apache/commons/configuration/TestHierarchicalConfiguration.java
@@ -283,6 +283,20 @@ public void testClearTreeComplex()
         }
     }
 
+    /**
+     * Tests the clearTree() method on a hierarchical structure of nodes. This
+     * is a test case for CONFIGURATION-293.
+     */
+    public void testClearTreeHierarchy()
+    {
+        config.addProperty("a.b.c", "c");
+        config.addProperty("a.b.c.d", "d");
+        config.addProperty("a.b.c.d.e", "e");
+        config.clearTree("a.b.c");
+        assertFalse("Property not removed", config.containsKey("a.b.c"));
+        assertFalse("Sub property not removed", config.containsKey("a.b.c.d"));
+    }
+
     public void testContainsKey()
     {
         assertTrue(config.containsKey("tables.table(0).name"));
