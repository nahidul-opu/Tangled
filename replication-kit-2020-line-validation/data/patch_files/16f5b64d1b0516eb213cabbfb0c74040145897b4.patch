From 16f5b64d1b0516eb213cabbfb0c74040145897b4 Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?J=C3=B6rn=20Kottmann?= <joern@apache.org>
Date: Tue, 3 Apr 2012 14:36:09 +0000
Subject: [PATCH] OPENNLP-491 Return now input parse if it has no token

git-svn-id: https://svn.apache.org/repos/asf/opennlp/trunk@1308948 13f79535-47bb-0310-9956-ffa450edef68
---
 .../opennlp/tools/parser/AbstractBottomUpParser.java | 12 +++++++++---
 1 file changed, 9 insertions(+), 3 deletions(-)

diff --git a/opennlp-tools/src/main/java/opennlp/tools/parser/AbstractBottomUpParser.java b/opennlp-tools/src/main/java/opennlp/tools/parser/AbstractBottomUpParser.java
index 5abecd27b..6256fd830 100644
--- a/opennlp-tools/src/main/java/opennlp/tools/parser/AbstractBottomUpParser.java
+++ b/opennlp-tools/src/main/java/opennlp/tools/parser/AbstractBottomUpParser.java
@@ -360,9 +360,15 @@ else if (numParses == 1){
   }
 
   public Parse parse(Parse tokens) {
-    Parse p = parse(tokens,1)[0];
-    setParents(p);
-    return p;
+    
+    if (tokens.getChildCount() > 0) {
+      Parse p = parse(tokens,1)[0];
+      setParents(p);
+      return p;
+    }
+    else {
+      return tokens;
+    }
   }
 
   /**
