From 84f836ebd1cf6cde9d42ba33397298f14693462c Mon Sep 17 00:00:00 2001
From: Sebastian Bazley <sebb@apache.org>
Date: Thu, 26 Mar 2009 20:54:47 +0000
Subject: [PATCH] COMPRESS-55 Throw error if user attempts to set an invalid
 mode

git-svn-id: https://svn.apache.org/repos/asf/commons/proper/compress/trunk@758850 13f79535-47bb-0310-9956-ffa450edef68
---
 .../commons/compress/archivers/cpio/CpioArchiveEntry.java     | 4 +---
 1 file changed, 1 insertion(+), 3 deletions(-)

diff --git a/src/main/java/org/apache/commons/compress/archivers/cpio/CpioArchiveEntry.java b/src/main/java/org/apache/commons/compress/archivers/cpio/CpioArchiveEntry.java
index d1bbe7bec6e..5d915c327be 100644
--- a/src/main/java/org/apache/commons/compress/archivers/cpio/CpioArchiveEntry.java
+++ b/src/main/java/org/apache/commons/compress/archivers/cpio/CpioArchiveEntry.java
@@ -611,9 +611,7 @@ public void setMode(final long mode) {
         case C_ISNWK:
             break;
         default:
-            // FIXME: testCpioUnarchive fails if I change the line to
-            // actually throw the excpetion
-            new IllegalArgumentException(
+            throw new IllegalArgumentException(
                     "Unknown mode. "
                     + "Full: " + Long.toHexString(mode) 
                     + " Masked: " + Long.toHexString(maskedMode));
