From caa9a8ed4fcd65526bd8100afee329eaabd4d56b Mon Sep 17 00:00:00 2001
From: Xavier Hanin <xavier@apache.org>
Date: Wed, 11 Jan 2006 12:19:12 +0000
Subject: [PATCH] FIX: mapping on conf * now only takes public configurations
 (IVY-126)

git-svn-id: https://svn.apache.org/repos/asf/incubator/ivy/trunk@484091 13f79535-47bb-0310-9956-ffa450edef68
---
 CHANGES.txt                           | 1 +
 src/java/fr/jayasoft/ivy/IvyNode.java | 2 +-
 2 files changed, 2 insertions(+), 1 deletion(-)

diff --git a/CHANGES.txt b/CHANGES.txt
index bce9d0fbf..57cafba08 100644
--- a/CHANGES.txt
+++ b/CHANGES.txt
@@ -16,6 +16,7 @@
 - IMPROVE: import system properties as ivy variables in standalone mode
 - IMPROVE: string identifying a module is now clearly different from a path
 - IMPROVE: better error message when publish fails due to readonly destination (IVY-83)
+- FIX: mapping on conf * now only takes public configurations (IVY-126)
 - FIX: bad dependency ivy files now causes failure (IVY-112)
 - FIX: stack overflow error in contradictory conflict cases (IVY-117)
 - FIX: publish now doesn't call deliver when not necessary (IVY-119)
diff --git a/src/java/fr/jayasoft/ivy/IvyNode.java b/src/java/fr/jayasoft/ivy/IvyNode.java
index 66399ced9..0574d593c 100644
--- a/src/java/fr/jayasoft/ivy/IvyNode.java
+++ b/src/java/fr/jayasoft/ivy/IvyNode.java
@@ -632,7 +632,7 @@ private String[] resolveSpecialConfigurations(String[] dependencyConfigurations,
                 && "*".equals(dependencyConfigurations[0])
                 && node != null
                 && node.isLoaded()) {
-            return node.getDescriptor().getConfigurationsNames();
+            return node.getDescriptor().getPublicConfigurationsNames();
         }
         return dependencyConfigurations;
     }
