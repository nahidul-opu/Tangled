From 4e1f4861a7946ddae28b164f8ad680e28388fb78 Mon Sep 17 00:00:00 2001
From: Ate Douma <ate@apache.org>
Date: Mon, 1 Sep 2014 21:12:13 +0000
Subject: [PATCH] SCXML-205: finalStep gets called twice (2x)

git-svn-id: https://svn.apache.org/repos/asf/commons/proper/scxml/trunk@1621887 13f79535-47bb-0310-9956-ffa450edef68
---
 .../java/org/apache/commons/scxml2/SCXMLExecutor.java  | 10 ----------
 1 file changed, 10 deletions(-)

diff --git a/src/main/java/org/apache/commons/scxml2/SCXMLExecutor.java b/src/main/java/org/apache/commons/scxml2/SCXMLExecutor.java
index c5d1c22fa..0bbfa6743 100644
--- a/src/main/java/org/apache/commons/scxml2/SCXMLExecutor.java
+++ b/src/main/java/org/apache/commons/scxml2/SCXMLExecutor.java
@@ -329,11 +329,6 @@ public void reset() throws ModelException {
 
         // go
         semantics.firstStep(exctx);
-
-        if (!exctx.isRunning()) {
-            semantics.finalStep(exctx);
-        }
-
         logState();
     }
 
@@ -416,11 +411,6 @@ public void triggerEvents() throws ModelException {
 
     protected void eventStep(TriggerEvent event) throws ModelException {
         semantics.nextStep(exctx, event);
-
-        if (!exctx.isRunning()) {
-            semantics.finalStep(exctx);
-        }
-
         logState();
     }
 
