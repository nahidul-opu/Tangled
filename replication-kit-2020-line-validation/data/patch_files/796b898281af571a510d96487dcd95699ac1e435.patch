From 796b898281af571a510d96487dcd95699ac1e435 Mon Sep 17 00:00:00 2001
From: Henri Yandell <bayard@apache.org>
Date: Sat, 27 Oct 2007 05:07:45 +0000
Subject: [PATCH] Applying Sebb's test and fix for LANG-365

git-svn-id: https://svn.apache.org/repos/asf/commons/proper/lang/trunk@589050 13f79535-47bb-0310-9956-ffa450edef68
---
 src/java/org/apache/commons/lang/BooleanUtils.java     | 1 +
 src/test/org/apache/commons/lang/BooleanUtilsTest.java | 2 ++
 2 files changed, 3 insertions(+)

diff --git a/src/java/org/apache/commons/lang/BooleanUtils.java b/src/java/org/apache/commons/lang/BooleanUtils.java
index 3fda4ecc1ea..8b5028c4b75 100644
--- a/src/java/org/apache/commons/lang/BooleanUtils.java
+++ b/src/java/org/apache/commons/lang/BooleanUtils.java
@@ -679,6 +679,7 @@ public static boolean toBoolean(String str) {
                         (str.charAt(1) == 'E' || str.charAt(1) == 'e') &&
                         (str.charAt(2) == 'S' || str.charAt(2) == 's');
                 }
+                return false;
             }
             case 4: {
                 char ch = str.charAt(0);
diff --git a/src/test/org/apache/commons/lang/BooleanUtilsTest.java b/src/test/org/apache/commons/lang/BooleanUtilsTest.java
index cc44051e1fc..97068466003 100644
--- a/src/test/org/apache/commons/lang/BooleanUtilsTest.java
+++ b/src/test/org/apache/commons/lang/BooleanUtilsTest.java
@@ -330,6 +330,8 @@ public void test_toBoolean_String() {
         assertEquals(true, BooleanUtils.toBoolean("YeS"));
         assertEquals(true, BooleanUtils.toBoolean("YEs"));
         assertEquals(true, BooleanUtils.toBoolean("YES"));
+        assertEquals(false, BooleanUtils.toBoolean("yes?"));
+        assertEquals(false, BooleanUtils.toBoolean("tru"));
     }
 
     public void test_toBoolean_String_String_String() {
