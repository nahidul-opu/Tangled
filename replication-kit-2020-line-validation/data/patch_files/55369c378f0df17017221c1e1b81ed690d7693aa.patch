From 55369c378f0df17017221c1e1b81ed690d7693aa Mon Sep 17 00:00:00 2001
From: Colm O Heigeartaigh <coheigea@apache.org>
Date: Wed, 28 Jan 2015 14:18:55 +0000
Subject: [PATCH] [SANTUARIO-412] - Signature verification fail because of
 unutilzed default namespace not removed  - "xmlns" workaround applied

git-svn-id: https://svn.apache.org/repos/asf/santuario/xml-security-java/trunk@1655346 13f79535-47bb-0310-9956-ffa450edef68
---
 .../c14n/implementations/Canonicalizer20010315Excl.java        | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

diff --git a/src/main/java/org/apache/xml/security/c14n/implementations/Canonicalizer20010315Excl.java b/src/main/java/org/apache/xml/security/c14n/implementations/Canonicalizer20010315Excl.java
index c872d38a43..d4fa3d7b5e 100644
--- a/src/main/java/org/apache/xml/security/c14n/implementations/Canonicalizer20010315Excl.java
+++ b/src/main/java/org/apache/xml/security/c14n/implementations/Canonicalizer20010315Excl.java
@@ -184,7 +184,8 @@ protected Iterator<Attr> handleAttributesSubtree(Element element, NameSpaceSymbT
                 String NName = attribute.getLocalName();
                 String NNodeValue = attribute.getNodeValue();
                 
-                if (!XMLNS_URI.equals(attribute.getNamespaceURI())) {
+                if (!(XMLNS_URI.equals(attribute.getNamespaceURI())
+                    || XMLNS.equals(attribute.getName()))) {
                     // Not a namespace definition.
                     // The Element is output element, add the prefix (if used) to 
                     // visiblyUtilized
