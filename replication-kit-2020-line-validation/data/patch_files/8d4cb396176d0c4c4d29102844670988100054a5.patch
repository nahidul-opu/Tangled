From 8d4cb396176d0c4c4d29102844670988100054a5 Mon Sep 17 00:00:00 2001
From: Colm O Heigeartaigh <coheigea@apache.org>
Date: Mon, 3 Sep 2012 12:24:55 +0000
Subject: [PATCH] [SANTUARIO-342] - NullPointer in
 javax.xml.crypto.KeySelectorException.printStackTrace

git-svn-id: https://svn.apache.org/repos/asf/santuario/xml-security-java/trunk@1380215 13f79535-47bb-0310-9956-ffa450edef68
---
 .../java/javax/xml/crypto/KeySelectorException.java  | 12 +++++++++---
 1 file changed, 9 insertions(+), 3 deletions(-)

diff --git a/src/main/java/javax/xml/crypto/KeySelectorException.java b/src/main/java/javax/xml/crypto/KeySelectorException.java
index 991dfb367f..b0ffb83586 100644
--- a/src/main/java/javax/xml/crypto/KeySelectorException.java
+++ b/src/main/java/javax/xml/crypto/KeySelectorException.java
@@ -117,7 +117,9 @@ public Throwable getCause() {
      */
     public void printStackTrace() {
         super.printStackTrace();
-        cause.printStackTrace();
+        if (cause != null) {
+            cause.printStackTrace();
+        }
     }
 
     /**
@@ -128,7 +130,9 @@ public void printStackTrace() {
      */
     public void printStackTrace(PrintStream s) {
         super.printStackTrace(s);
-        cause.printStackTrace(s);
+        if (cause != null) {
+            cause.printStackTrace(s);
+        }
     }
 
     /**
@@ -139,6 +143,8 @@ public void printStackTrace(PrintStream s) {
      */
     public void printStackTrace(PrintWriter s) {
         super.printStackTrace(s);
-        cause.printStackTrace(s);
+        if (cause != null) {
+            cause.printStackTrace(s);
+        }
     }
 }
