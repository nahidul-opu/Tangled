From 0885d905ba08b85081768a58b0e1b8a6a1309e6f Mon Sep 17 00:00:00 2001
From: Scokart Gilles <gscokart@apache.org>
Date: Tue, 19 Feb 2008 20:38:33 +0000
Subject: [PATCH] FIX: Incorrect ivy from maven pom generation when classifier
 are user (IVY-714) (thanks to Ruslan Shevchenko)

git-svn-id: https://svn.apache.org/repos/asf/ant/ivy/core/trunk@629217 13f79535-47bb-0310-9956-ffa450edef68
---
 .../core/module/descriptor/DefaultModuleDescriptor.java   | 8 +++++---
 1 file changed, 5 insertions(+), 3 deletions(-)

diff --git a/src/java/org/apache/ivy/core/module/descriptor/DefaultModuleDescriptor.java b/src/java/org/apache/ivy/core/module/descriptor/DefaultModuleDescriptor.java
index 9165c9efc..2a17e95aa 100644
--- a/src/java/org/apache/ivy/core/module/descriptor/DefaultModuleDescriptor.java
+++ b/src/java/org/apache/ivy/core/module/descriptor/DefaultModuleDescriptor.java
@@ -166,6 +166,8 @@ public static ModuleDescriptor transformInstance(ModuleDescriptor md, Namespace
         nmd.licenses.addAll(Arrays.asList(md.getLicenses()));
         nmd.homePage = md.getHomePage();
         nmd.lastModified = md.getLastModified();
+        nmd.extraAttributesNamespaces = md.getExtraAttributesNamespaces();
+        nmd.extraInfo = md.getExtraInfo();
         nmd.namespace = ns;
 
         return nmd;
@@ -215,7 +217,7 @@ public static ModuleDescriptor transformInstance(ModuleDescriptor md, Namespace
     
     private Map/*<String,String>*/ extraAttributesNamespaces = new LinkedHashMap();
 
-    private Map/*<String,String>*/ extraDescription = new HashMap();
+    private Map/*<String,String>*/ extraInfo = new HashMap();
 
     public DefaultModuleDescriptor(ModuleRevisionId id, String status, Date pubDate) {
         this(id, status, pubDate, false);
@@ -624,10 +626,10 @@ public void addExtraAttributeNamespace(String prefix, String namespace) {
    
     
     public void addExtraInfo(String infoKey, String value) {
-        extraDescription.put(infoKey, value);
+        extraInfo.put(infoKey, value);
     }
     
     public Map getExtraInfo() {
-        return extraDescription;
+        return extraInfo;
     }
 }
