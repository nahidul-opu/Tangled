From c8d6fa49160b7fca071cd1d5cfdd0908fbf1c6d6 Mon Sep 17 00:00:00 2001
From: Colm O hEigeartaigh <coheigea@apache.org>
Date: Wed, 25 May 2016 14:25:03 +0000
Subject: [PATCH] [SANTUARIO-443] - Java library generates schema invalid
 KeyValue for EC credentials

git-svn-id: https://svn.apache.org/repos/asf/santuario/xml-security-java/trunk@1745493 13f79535-47bb-0310-9956-ffa450edef68
---
 .../java/org/apache/xml/security/keys/content/KeyValue.java     | 2 ++
 1 file changed, 2 insertions(+)

diff --git a/src/main/java/org/apache/xml/security/keys/content/KeyValue.java b/src/main/java/org/apache/xml/security/keys/content/KeyValue.java
index a327923506..ac7a77ba22 100644
--- a/src/main/java/org/apache/xml/security/keys/content/KeyValue.java
+++ b/src/main/java/org/apache/xml/security/keys/content/KeyValue.java
@@ -104,6 +104,8 @@ public KeyValue(Document doc, PublicKey pk) {
 
             appendSelf(rsa);
             addReturnToSelf();
+        } else {
+            throw new RuntimeException("PublicKey type " + pk + " is not supported");
         }
     }
 
