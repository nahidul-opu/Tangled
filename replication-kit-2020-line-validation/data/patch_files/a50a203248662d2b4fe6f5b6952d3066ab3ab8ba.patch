From a50a203248662d2b4fe6f5b6952d3066ab3ab8ba Mon Sep 17 00:00:00 2001
From: Henri Yandell <bayard@apache.org>
Date: Sat, 27 Oct 2007 06:48:26 +0000
Subject: [PATCH] Applying Sebb's fix from CODEC-56, along with a test

git-svn-id: https://svn.apache.org/repos/asf/commons/proper/codec/trunk@589052 13f79535-47bb-0310-9956-ffa450edef68
---
 .../commons/codec/language/RefinedSoundex.java     | 14 +++++++-------
 .../commons/codec/language/RefinedSoundexTest.java |  5 ++++-
 2 files changed, 11 insertions(+), 8 deletions(-)

diff --git a/src/java/org/apache/commons/codec/language/RefinedSoundex.java b/src/java/org/apache/commons/codec/language/RefinedSoundex.java
index ad46621b5b..934a7854ed 100755
--- a/src/java/org/apache/commons/codec/language/RefinedSoundex.java
+++ b/src/java/org/apache/commons/codec/language/RefinedSoundex.java
@@ -30,13 +30,7 @@
  */
 public class RefinedSoundex implements StringEncoder {
 
-    /**
-	 * This static variable contains an instance of the RefinedSoundex using
-	 * the US_ENGLISH mapping.
-	 */
-    public static final RefinedSoundex US_ENGLISH = new RefinedSoundex();
-
-    /**
+   /**
 	 * RefinedSoundex is *refined* for a number of reasons one being that the
 	 * mappings have been altered. This implementation contains default
 	 * mappings for US English.
@@ -51,6 +45,12 @@ public class RefinedSoundex implements StringEncoder {
     private final char[] soundexMapping;
 
     /**
+	 * This static variable contains an instance of the RefinedSoundex using
+	 * the US_ENGLISH mapping.
+	 */
+    public static final RefinedSoundex US_ENGLISH = new RefinedSoundex();
+
+     /**
 	 * Creates an instance of the RefinedSoundex object using the default US
 	 * English mapping.
 	 */
diff --git a/src/test/org/apache/commons/codec/language/RefinedSoundexTest.java b/src/test/org/apache/commons/codec/language/RefinedSoundexTest.java
index 52bc86146a..c827cf3b07 100755
--- a/src/test/org/apache/commons/codec/language/RefinedSoundexTest.java
+++ b/src/test/org/apache/commons/codec/language/RefinedSoundexTest.java
@@ -104,10 +104,13 @@ public void testEncode() {
         assertEquals("T60", this.getEncoder().encode("the"));
         assertEquals("L7050", this.getEncoder().encode("lazy"));
         assertEquals("D6043", this.getEncoder().encode("dogs"));
+
+        // Testing CODEC-56
+        assertEquals("D6043", RefinedSoundex.US_ENGLISH.encode("dogs"));
     }
 
 	public void testGetMappingCodeNonLetter() {
 		char code = this.getEncoder().getMappingCode('#');
 		assertEquals("Code does not equals zero", 0, code);
 	}
-}
\ No newline at end of file
+}
