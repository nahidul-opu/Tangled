From 6d54418d10508962e56a1f1a11042011ea24dfee Mon Sep 17 00:00:00 2001
From: Xavier Hanin <xavier@apache.org>
Date: Thu, 31 Aug 2006 02:25:30 +0000
Subject: [PATCH] FIX: http url lister doesn't work when link text has spaces
 (IVY-282)

git-svn-id: https://svn.apache.org/repos/asf/incubator/ivy/trunk@484493 13f79535-47bb-0310-9956-ffa450edef68
---
 src/java/fr/jayasoft/ivy/url/ApacheURLLister.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/src/java/fr/jayasoft/ivy/url/ApacheURLLister.java b/src/java/fr/jayasoft/ivy/url/ApacheURLLister.java
index 72d52316e..96a6ef967 100644
--- a/src/java/fr/jayasoft/ivy/url/ApacheURLLister.java
+++ b/src/java/fr/jayasoft/ivy/url/ApacheURLLister.java
@@ -99,7 +99,7 @@ public List retrieveListing(URL url, boolean includeFiles,
         List urlList = new ArrayList();
 
         // add trailing slash for relative urls
-        if (!url.getPath().endsWith("/")) {
+        if (!url.getPath().endsWith("/") && !url.getPath().endsWith(".html")) {
             url = new URL(url.getProtocol(), url.getHost(), url.getPort(),
                     url.getPath() + "/");
         }
