From e0009e6d6e42d2b2462f28bcff83648f2a1b77a5 Mon Sep 17 00:00:00 2001
From: Lewis John McGibbney <lewis.j.mcgibbney@jpl.nasa.gov>
Date: Sun, 28 Feb 2016 12:51:17 -0800
Subject: [PATCH] GORA-463 Missing assignment in
 CassandraSubColumn#getUnionSchema()

---
 .../org/apache/gora/cassandra/query/CassandraSubColumn.java  | 5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

diff --git a/gora-cassandra/src/main/java/org/apache/gora/cassandra/query/CassandraSubColumn.java b/gora-cassandra/src/main/java/org/apache/gora/cassandra/query/CassandraSubColumn.java
index 72cd0dda9..70acfe235 100644
--- a/gora-cassandra/src/main/java/org/apache/gora/cassandra/query/CassandraSubColumn.java
+++ b/gora-cassandra/src/main/java/org/apache/gora/cassandra/query/CassandraSubColumn.java
@@ -95,8 +95,9 @@ public Object getValue() {
   private Schema getUnionSchema (int pSchemaPos, Schema pSchema){
     Schema unionSchema = pSchema.getTypes().get(pSchemaPos);
     // default union element
-    if ( unionSchema == null )
-      pSchema.getTypes().get(CassandraStore.DEFAULT_UNION_SCHEMA);
+    if ( unionSchema == null ) {
+      unionSchema = pSchema.getTypes().get(CassandraStore.DEFAULT_UNION_SCHEMA);
+    }
     return unionSchema;
   }
 
