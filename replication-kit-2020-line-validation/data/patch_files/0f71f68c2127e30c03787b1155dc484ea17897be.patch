From 0f71f68c2127e30c03787b1155dc484ea17897be Mon Sep 17 00:00:00 2001
From: Colm O Heigeartaigh <coheigea@apache.org>
Date: Thu, 29 Jan 2015 10:17:13 +0000
Subject: [PATCH] [SANTUARIO-412] - Fixing potential NPE

git-svn-id: https://svn.apache.org/repos/asf/santuario/xml-security-java/trunk@1655574 13f79535-47bb-0310-9956-ffa450edef68
---
 .../c14n/implementations/Canonicalizer20010315Excl.java         | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/src/main/java/org/apache/xml/security/c14n/implementations/Canonicalizer20010315Excl.java b/src/main/java/org/apache/xml/security/c14n/implementations/Canonicalizer20010315Excl.java
index d4fa3d7b5e..de0659a787 100644
--- a/src/main/java/org/apache/xml/security/c14n/implementations/Canonicalizer20010315Excl.java
+++ b/src/main/java/org/apache/xml/security/c14n/implementations/Canonicalizer20010315Excl.java
@@ -181,7 +181,7 @@ protected Iterator<Attr> handleAttributesSubtree(Element element, NameSpaceSymbT
             int attrsLength = attrs.getLength();
             for (int i = 0; i < attrsLength; i++) {
                 Attr attribute = (Attr) attrs.item(i);
-                String NName = attribute.getLocalName();
+                String NName = attribute.getLocalName() == null ? "" : attribute.getLocalName();
                 String NNodeValue = attribute.getNodeValue();
                 
                 if (!(XMLNS_URI.equals(attribute.getNamespaceURI())
