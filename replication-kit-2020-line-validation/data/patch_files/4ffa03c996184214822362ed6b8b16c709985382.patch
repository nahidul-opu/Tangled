From 4ffa03c996184214822362ed6b8b16c709985382 Mon Sep 17 00:00:00 2001
From: Thomas Vandahl <tv@apache.org>
Date: Sun, 25 Aug 2013 10:48:08 +0000
Subject: [PATCH] Use ConcurrentHashMap instead of a synchronized collection
 following an idea from JCS-72

git-svn-id: https://svn.apache.org/repos/asf/commons/proper/jcs/trunk@1517268 13f79535-47bb-0310-9956-ffa450edef68
---
 .../auxiliary/lateral/socket/tcp/LateralTCPCacheManager.java | 5 ++---
 1 file changed, 2 insertions(+), 3 deletions(-)

diff --git a/src/java/org/apache/jcs/auxiliary/lateral/socket/tcp/LateralTCPCacheManager.java b/src/java/org/apache/jcs/auxiliary/lateral/socket/tcp/LateralTCPCacheManager.java
index 6bd39fbd5..6ff1b99c9 100644
--- a/src/java/org/apache/jcs/auxiliary/lateral/socket/tcp/LateralTCPCacheManager.java
+++ b/src/java/org/apache/jcs/auxiliary/lateral/socket/tcp/LateralTCPCacheManager.java
@@ -21,9 +21,8 @@
 
 import java.io.IOException;
 import java.io.Serializable;
-import java.util.Collections;
-import java.util.HashMap;
 import java.util.Map;
+import java.util.concurrent.ConcurrentHashMap;
 
 import org.apache.commons.logging.Log;
 import org.apache.commons.logging.LogFactory;
@@ -68,7 +67,7 @@ public class LateralTCPCacheManager
 
     /** Address to instance map. */
     protected static Map<String, LateralTCPCacheManager> instances =
-        Collections.synchronizedMap( new HashMap<String, LateralTCPCacheManager>() );
+        new ConcurrentHashMap<String, LateralTCPCacheManager>();
 
     /** ITCPLateralCacheAttributes */
     protected ITCPLateralCacheAttributes lateralCacheAttributes;
