From d2d23c8aa02960549451c58ed3f0e84fd5ab3821 Mon Sep 17 00:00:00 2001
From: Thomas Vandahl <tv@apache.org>
Date: Wed, 1 Apr 2015 15:29:52 +0000
Subject: [PATCH] Fix JCS-141: RemoteCacheServerFactory ignores configuration

git-svn-id: https://svn.apache.org/repos/asf/commons/proper/jcs/trunk@1670679 13f79535-47bb-0310-9956-ffa450edef68
---
 .../auxiliary/remote/server/RemoteCacheServerFactory.java   | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

diff --git a/commons-jcs-core/src/main/java/org/apache/commons/jcs/auxiliary/remote/server/RemoteCacheServerFactory.java b/commons-jcs-core/src/main/java/org/apache/commons/jcs/auxiliary/remote/server/RemoteCacheServerFactory.java
index 7c1cbb3ea..e28838653 100644
--- a/commons-jcs-core/src/main/java/org/apache/commons/jcs/auxiliary/remote/server/RemoteCacheServerFactory.java
+++ b/commons-jcs-core/src/main/java/org/apache/commons/jcs/auxiliary/remote/server/RemoteCacheServerFactory.java
@@ -118,7 +118,7 @@ public static void startup( String host, int port, String propFile )
                 log.info( "ConfigFileName = [" + propFile + "]" );
             }
             Properties props = RemoteUtils.loadProps( propFile );
-            startup(host, port, props);
+            startup(host, port, props, propFile);
         }
     }
 
@@ -133,7 +133,7 @@ public static void startup( String host, int port, String propFile )
      * @param props
      * @throws IOException
      */
-    public static void startup( String host, int port, Properties props )
+    public static void startup( String host, int port, Properties props, String propFile )
         throws IOException
     {
         if ( remoteCacheServer != null )
@@ -153,7 +153,7 @@ public static void startup( String host, int port, Properties props )
             }
 
             RemoteCacheServerAttributes rcsa = configureRemoteCacheServerAttributes(props);
-            //rcsa.setConfigFileName( propFile );
+            rcsa.setConfigFileName( propFile );
 
             // These should come from the file!
             rcsa.setRemotePort( port );
